# TASK-20250905-1752: 시스템 아키텍처 설계 및 기술 스택 확정

## 작업 개요
- **담당자**: 백승재
- **우선순위**: HIGH
- **예상 시간**: 2시간
- **마감**: 2025-09-05 19:52

## 작업 목적
MVP 요구사항을 기반으로 AWS 서버리스 아키텍처를 설계하고 개발에 필요한 기술 스택을 확정

## 작업 범위

### 1. 시스템 아키텍처 설계 (1시간)
- AWS 서버리스 아키텍처 전체 구조도 작성
- 컴포넌트 간 데이터 흐름 정의
- API 엔드포인트 설계
- 보안 및 권한 관리 구조

### 2. 기술 스택 확정 (30분)
- 백엔드: AWS Lambda, DynamoDB, API Gateway
- 프론트엔드: React, 모바일 최적화 라이브러리
- AI: Amazon Q Developer 연동 방법
- 배포: AWS Amplify 또는 S3 + CloudFront

### 3. 개발 환경 구성 계획 (30분)
- AWS 계정 및 권한 설정
- 개발 도구 및 IDE 설정
- Git 브랜치 전략
- CI/CD 파이프라인 기본 구조

## 핵심 설계 요구사항

### MVP 필수 기능 (Phase 1)
1. **위생상태 체크리스트 작성** (F-001)
   - 모바일 웹앱 (React 반응형)
   - 10개 항목 입력 UI
   - 오프라인 임시 저장

2. **AI 기반 즉시 판정** (F-002)
   - Amazon Q Developer 연동
   - 4가지 판정 결과 (자동거부/재확인/경고/의료상담)
   - 5초 이내 응답

3. **운영자 실시간 모니터링** (F-003)
   - 실시간 완료율 대시보드
   - 미완료자 목록 및 알림
   - 30초 간격 업데이트

4. **체크리스트 배정 관리** (F-004)
   - 부서별/개별 배정
   - 예외 상황 관리 (휴가/특근)
   - 자동 대체자 배정

5. **QR 코드 기반 출입 통제** (F-005)
   - 판정 후 QR 코드 생성
   - QR 스캐너 기능
   - 출입 로그 기록

### 비기능 요구사항
- **성능**: AI 판정 5초, 대시보드 3초, 동시 사용자 100명
- **보안**: TLS 1.2+, 역할 기반 권한, 개인정보 암호화
- **확장성**: DynamoDB Auto Scaling, Lambda 자동 확장
- **호환성**: 모바일 브라우저 최적화

## 아키텍처 설계 원칙

### 1. 서버리스 우선
- 관리 부담 최소화
- 자동 스케일링
- 비용 효율성

### 2. 마이크로서비스 패턴
- 기능별 Lambda 함수 분리
- API Gateway로 통합 관리
- 독립적 배포 가능

### 3. 이벤트 드리븐 아키텍처
- DynamoDB Streams 활용
- 실시간 알림 처리
- 비동기 처리 최적화

### 4. 보안 우선 설계
- IAM 역할 기반 권한
- API 키 및 JWT 토큰
- 데이터 암호화

## 예상 시스템 구조

### 프론트엔드 (React)
```
작업자 앱 (모바일 최적화)
├── 체크리스트 입력 화면
├── AI 판정 결과 화면
├── QR 코드 표시 화면
└── 개인 이력 화면

운영자 대시보드 (웹)
├── 실시간 현황 모니터링
├── 배정 관리 화면
├── QR 스캐너 화면
└── 알림 관리 화면
```

### 백엔드 (AWS Lambda)
```
API Functions
├── auth-handler (인증/권한)
├── checklist-handler (체크리스트 CRUD)
├── ai-judgment-handler (AI 판정)
├── assignment-handler (배정 관리)
├── dashboard-handler (현황 조회)
├── qr-handler (QR 코드 생성/검증)
└── notification-handler (알림 발송)
```

### 데이터베이스 (DynamoDB)
```
Tables
├── Users (사용자 정보)
├── Templates (체크리스트 템플릿)
├── CheckRecords (체크 기록)
├── Assignments (배정 관리)
└── AccessLogs (출입 로그)

Indexes (GSI)
├── UserIndex (사용자별 조회)
├── DateIndex (날짜별 조회)
├── StatusIndex (상태별 조회)
└── TeamIndex (팀별 조회)
```

## 진행 상황
- [ ] 전체 시스템 아키텍처 다이어그램 작성
- [ ] API 엔드포인트 설계 및 문서화
- [ ] DynamoDB 테이블 및 인덱스 상세 설계
- [ ] Amazon Q Developer 연동 방법 조사
- [ ] QR 코드 생성/스캔 라이브러리 선정
- [ ] 보안 및 권한 관리 구조 설계
- [ ] 개발 환경 구성 가이드 작성
- [ ] 배포 전략 및 CI/CD 계획 수립

## 완료 기준
- [ ] 시스템 아키텍처 다이어그램 완성
- [ ] API 명세서 작성 (엔드포인트, 요청/응답 형식)
- [ ] 데이터베이스 스키마 확정
- [ ] 기술 스택 및 라이브러리 목록 확정
- [ ] 개발 환경 설정 가이드 완성
- [ ] 보안 및 성능 고려사항 문서화
- [ ] 팀원과 아키텍처 리뷰 완료

## 산출물
- `planning/design/architecture/시스템아키텍처.md`
- `planning/design/architecture/API명세서.md`
- `planning/design/architecture/데이터베이스스키마.md`
- `development/setup/개발환경가이드.md` (기존 환경설정.md 삭제 후 신규 작성)

## 참고 자료
- `planning/design/requirements/요구사항정의서.md` (v2.0)
- `planning/design/user-stories/MVP우선순위.md`
- `planning/design/ideas/데이터베이스설계아이디어.md`
- AWS Well-Architected Framework
- AWS Serverless Application Lens

## 위험 요소 및 대응
- **Amazon Q Developer 연동 복잡성**: 사전 조사 및 간단한 프로토타입 테스트
- **실시간 업데이트 성능**: WebSocket vs 폴링 방식 비교 검토
- **QR 코드 보안**: 암호화 및 만료 시간 설정
- **모바일 호환성**: 주요 브라우저 테스트 계획

## 다음 단계
1. 아키텍처 설계 완료 후 팀원 리뷰
2. AWS 계정 설정 및 기본 인프라 구성
3. 개발 환경 설정 및 Hello World 배포 테스트
4. MVP 핵심 기능 개발 시작

---
**시작 시간**: 2025-09-05 17:52  
**현재 상태**: 아키텍처 설계 시작  
**다음 마일스톤**: 19:52까지 전체 아키텍처 확정
