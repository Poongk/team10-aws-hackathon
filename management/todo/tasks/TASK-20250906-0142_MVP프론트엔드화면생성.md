# TASK-20250906-0142: MVP 프론트엔드 화면 생성

## 태스크 개요
- **담당자**: 백승재
- **우선순위**: HIGH
- **예상 시간**: 8시간
- **마감일**: 2025-09-06 12:00
- **상태**: ✅ COMPLETED
- **완료일**: 2025-09-06 09:21

## 목표
화면정의서를 기반으로 8개 MVP 화면을 React로 개발하여 완전한 프론트엔드 애플리케이션 구축

## 개발할 화면 목록

### 작업자 화면 (5개)
1. **WK-001 작업자 로그인**
   - 사번 입력 및 검증
   - 세션 관리
   - 관리자 로그인 링크

2. **WK-002 개인 대시보드**
   - 환영 메시지
   - 체크리스트 작성/결과 보기 카드
   - 로그아웃 기능

3. **WK-003 체크리스트 작성**
   - 9개 항목 입력 폼
   - 진행률 표시
   - AI 판별 연동 (3번 항목)

4. **WK-004 판정 결과**
   - 적합/부적합 결과 표시
   - QR 코드 생성 및 표시
   - 30분 타이머

5. **WK-005 결과 보기**
   - 이전 체크리스트 이력
   - QR 코드 관리
   - 만료 처리 기능 (시연용)

### 관리자 화면 (2개)
6. **AD-001 관리자 로그인**
   - 관리자 ID 입력
   - 주황색 테마
   - 작업자 로그인 링크

7. **AD-002 QR 스캐너**
   - 실시간 QR 코드 스캔
   - 스캔 결과 표시
   - 출입 로그 (최근 10건)

### 팝업 (1개)
8. **AI-001 AI 판별 팝업**
   - 카메라 활성화
   - 이미지 촬영 및 업로드
   - AI 분석 결과 표시

## 기술 스택

### 핵심 기술
- **React 18**: 함수형 컴포넌트 + Hooks
- **TypeScript**: 타입 안전성
- **CSS Modules**: 컴포넌트별 스타일링
- **React Router v6**: 클라이언트 사이드 라우팅

### 상태 관리
- **Context API**: 전역 상태 (사용자 정보, 인증)
- **useReducer**: 복잡한 상태 로직
- **useState**: 로컬 컴포넌트 상태

### API 연동
- **Axios**: HTTP 클라이언트
- **Custom Hooks**: API 호출 로직 재사용
- **Error Boundary**: 에러 처리

### 외부 라이브러리
- **qrcode.js**: QR 코드 생성
- **qr-scanner.js**: QR 코드 스캔
- **WebRTC API**: 카메라 접근

## 폴더 구조
```
src/
├── components/           # 재사용 가능한 컴포넌트
│   ├── common/          # 공통 컴포넌트
│   │   ├── Button/
│   │   ├── Input/
│   │   ├── Card/
│   │   └── Loading/
│   └── layout/          # 레이아웃 컴포넌트
├── pages/               # 페이지 컴포넌트
│   ├── worker/          # 작업자 화면
│   ├── admin/           # 관리자 화면
│   └── common/          # 공통 페이지
├── hooks/               # 커스텀 훅
├── services/            # API 서비스
├── contexts/            # Context 정의
├── utils/               # 유틸리티 함수
├── styles/              # 공통 스타일
└── types/               # TypeScript 타입 정의
```

## 개발 단계

### Phase 1: 기본 설정 (1시간)
- [x] React 프로젝트 생성 및 설정
- [x] TypeScript, Router, CSS Modules 설정
- [x] 폴더 구조 생성
- [x] 공통 스타일 및 디자인 시스템 구축

### Phase 2: 공통 컴포넌트 (1.5시간)
- [x] Button 컴포넌트 (다양한 variant)
- [x] Input 컴포넌트 (검증, 에러 표시)
- [x] Card 컴포넌트 (헤더, 바디, 푸터)
- [x] Loading 컴포넌트 (스피너, 스켈레톤)
- [x] Layout 컴포넌트 (헤더, 메인, 푸터)

### Phase 3: 작업자 화면 (3시간)
- [x] WK-001 작업자 로그인
- [x] WK-002 개인 대시보드
- [x] WK-003 체크리스트 작성
- [x] WK-004 판정 결과
- [x] WK-005 결과 보기

### Phase 4: 관리자 화면 (1.5시간)
- [x] AD-001 관리자 로그인
- [x] AD-002 QR 스캐너

### Phase 5: AI 팝업 및 통합 (1시간)
- [x] AI-001 AI 판별 팝업
- [x] 전체 플로우 연동 테스트
- [x] 반응형 디자인 최적화

## API 연동 계획

### 인증 API
```typescript
// 작업자 로그인
POST /auth/worker
{ employee_id: string }

// 관리자 로그인  
POST /auth/admin
{ admin_id: string }
```

### 체크리스트 API
```typescript
// 체크리스트 제출
POST /checklist
{ user_id: string, items: object, ai_analysis?: object }

// 사용자별 조회
GET /checklist/{user_id}
```

### AI 분석 API
```typescript
// 상처 분석
POST /ai/analyze-wound
FormData: { image: File, user_id: string }
```

### QR 관리 API
```typescript
// QR 검증
POST /qr/verify
{ qr_data: string, scanner_id: string }

// QR 만료 (시연용)
PUT /qr/expire
{ user_id: string, check_time: string }
```

## UI/UX 요구사항

### 디자인 시스템
- **색상**: 작업자(파란색), 관리자(주황색)
- **폰트**: 16px 기본, 모바일 최적화
- **간격**: 8px, 16px, 24px, 32px 시스템
- **터치**: 최소 44px 터치 영역

### 반응형 디자인
- **모바일 우선**: 320px~480px
- **세로 방향**: Portrait 모드만 지원
- **터치 최적화**: 큰 버튼, 충분한 간격

### 접근성
- **키보드 네비게이션**: Tab 순서 지원
- **스크린 리더**: ARIA 라벨 적용
- **색상 대비**: WCAG 2.1 AA 준수
- **포커스 표시**: 명확한 포커스 링

## 성능 최적화

### 번들 최적화
- **Code Splitting**: 페이지별 lazy loading
- **Tree Shaking**: 사용하지 않는 코드 제거
- **Asset Optimization**: 이미지 압축, WebP 지원

### 런타임 최적화
- **React.memo**: 불필요한 리렌더링 방지
- **useMemo/useCallback**: 계산 결과 캐싱
- **Virtual Scrolling**: 긴 목록 최적화

### 네트워크 최적화
- **API 캐싱**: 중복 요청 방지
- **이미지 압축**: 업로드 전 클라이언트 압축
- **Progressive Loading**: 점진적 콘텐츠 로딩

## 테스트 계획

### 단위 테스트
- **컴포넌트**: Jest + React Testing Library
- **훅**: @testing-library/react-hooks
- **유틸리티**: Jest

### 통합 테스트
- **API 연동**: MSW (Mock Service Worker)
- **라우팅**: React Router 테스트
- **상태 관리**: Context 테스트

### E2E 테스트
- **주요 플로우**: Cypress 또는 Playwright
- **크로스 브라우저**: 모바일 브라우저 테스트
- **접근성**: axe-core 자동 테스트

## 배포 준비

### 빌드 설정
- **환경별 설정**: .env 파일 관리
- **최적화**: 프로덕션 빌드 설정
- **정적 파일**: S3 배포 준비

### CI/CD 연동
- **GitHub Actions**: 자동 빌드 및 테스트
- **배포 파이프라인**: S3 + CloudFront 배포
- **환경 관리**: dev, staging, prod

## 성공 기준

### 기능적 요구사항
- [x] 8개 화면 모두 정상 동작
- [x] API 연동 완료 (인증, 체크리스트, AI, QR)
- [x] 카메라 기능 정상 작동
- [x] QR 생성/스캔 기능 완료

### 비기능적 요구사항
- [x] 모바일 반응형 디자인 완료
- [x] 접근성 기준 준수
- [x] 성능 목표 달성 (3초 이내 로딩)
- [x] 크로스 브라우저 호환성

### 품질 기준
- [x] TypeScript 타입 안전성 100%
- [x] 단위 테스트 커버리지 80% 이상
- [x] ESLint/Prettier 규칙 준수
- [x] 코드 리뷰 완료

## 참고 문서
- **화면 정의서**: `planning/design/ui/화면정의서/*.md`
- **공통 가이드**: `planning/design/ui/화면정의서/공통화면정의서.md`
- **API 명세**: `planning/design/mvp/architecture/API명세서.md`
- **사용자 스토리**: `planning/design/mvp/user-stories/위생상태점검표_사용자스토리.md`
- **시연 시나리오**: `planning/design/mvp/scenarios/위생상태점검표_시연시나리오.md`

## 리스크 및 대응방안

### 기술적 리스크
- **카메라 권한**: 브라우저별 권한 처리 차이 → 폴백 UI 준비
- **QR 스캔 성능**: 저사양 기기에서 느림 → 최적화 및 대안 제공
- **API 연동**: 백엔드 미완성 시 → Mock 데이터로 개발 진행

### 일정 리스크
- **복잡한 AI 팝업**: 카메라 연동 복잡 → 단계별 개발
- **반응형 디자인**: 다양한 해상도 대응 → 주요 해상도 우선 대응
- **테스트 시간 부족**: → 핵심 기능 우선 테스트

---
**작성일**: 2025-09-06 01:42  
**담당자**: 백승재  
**상태**: ✅ 완료됨

## 🎉 완료 요약 (2025-09-06 09:21)

### ✅ 완성된 화면 (8개)
1. **WK-001 작업자 로그인**: 데모 계정 + 해커톤 백도어
2. **WK-002 개인 대시보드**: 환영 메시지 + 네비게이션 카드
3. **WK-003 체크리스트 작성**: 9개 항목 + AI 판별 팝업 연동
4. **WK-004 판정 결과**: QR 생성 + 30분 타이머 + 다운로드
5. **WK-005 결과 보기**: 다중 사용자 이력 + URL 파라미터
6. **AD-001 관리자 로그인**: 주황색 테마 + 3개 관리자 계정
7. **AD-002 QR 스캐너**: 카메라/파일 업로드 + 출입 로그
8. **AI-001 AI 판별 팝업**: 실제 AI API 연동 + 카메라 보안

### 🚀 추가 구현된 기능
- **QR 다운로드**: 상세 파일명 (이름_적합여부_만료여부_날짜)
- **로그인 상호 연결**: 작업자 ↔ 관리자 링크
- **실시간 QR 생성**: URL 파라미터 기반 동적 생성
- **카메라 보안**: 페이지 이동/탭 전환 시 자동 정지
- **완전한 플로우**: 로그인 → 체크리스트 → AI 분석 → QR → 스캔

### 📊 성과 지표
- **개발 시간**: 8시간 (예상대로 완료)
- **화면 수**: 8개 (100% 완성)
- **기능 완성도**: 100% (모든 요구사항 충족)
- **해커톤 준비**: 완료 (시연 가능 상태)
