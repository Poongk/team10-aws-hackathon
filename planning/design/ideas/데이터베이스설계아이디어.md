# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ì•„ì´ë””ì–´

## ê°œìš”
GMP CheckMaster AI ì‹œìŠ¤í…œì˜ MVP ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ì•„ì´ë””ì–´ ë° í™•ì¥ ë°©ì•ˆ

**ì„¤ê³„ ì›ì¹™**: ê°„ë‹¨í•˜ë©´ì„œë„ í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°  
**ê¸°ìˆ  ì„ íƒ**: DynamoDB (ì„œë²„ë¦¬ìŠ¤, AWS í†µí•©)  
**ëª©í‘œ**: í•´ì»¤í†¤ 24ì‹œê°„ ë‚´ êµ¬í˜„ ê°€ëŠ¥í•œ ìµœì†Œ êµ¬ì¡°

## MVP ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ (DynamoDB)

### í•µì‹¬ í…Œì´ë¸” 4ê°œ (ìµœì†Œ êµ¬ì„±)

#### 1. Users (ì‚¬ìš©ì ê´€ë¦¬)
```json
{
  "PK": "USER#user_001",
  "SK": "PROFILE",
  "user_id": "user_001",
  "name": "ê¹€ì‘ì—…ì",
  "department": "ìƒì‚°ë¶€",
  "team": "AíŒ€",
  "role": "worker",
  "status": "active",
  "email": "kim@company.com",
  "phone": "010-1234-5678",
  "created_at": "2025-09-05T10:00:00Z",
  "updated_at": "2025-09-05T10:00:00Z"
}
```

**ìš©ë„**: ì‚¬ìš©ì ê¸°ë³¸ ì •ë³´ ë° ê¶Œí•œ ê´€ë¦¬  
**ì¸ë±ìŠ¤**: PKë¡œ ë¹ ë¥¸ ì‚¬ìš©ì ì¡°íšŒ

#### 2. Templates (ì²´í¬ë¦¬ìŠ¤íŠ¸ í…œí”Œë¦¿)
```json
{
  "PK": "TEMPLATE#hygiene_daily",
  "SK": "CONFIG",
  "template_id": "hygiene_daily",
  "name": "ì‘ì—…ì› ì¼ì¼ ìœ„ìƒìƒíƒœ ì ê²€í‘œ",
  "type": "access_control",
  "version": "1.0",
  "status": "active",
  "items": [
    {
      "id": "symptoms",
      "question": "ë°œì—´, ì„¤ì‚¬, êµ¬í†  ë“±ì˜ ì¦ìƒì´ ìˆìŠµë‹ˆê¹Œ?",
      "type": "select",
      "options": ["ìˆìŒ", "ì—†ìŒ"],
      "risk_weight": 10,
      "required": true
    },
    {
      "id": "temperature",
      "question": "ì²´ì˜¨ì„ ì…ë ¥í•˜ì„¸ìš” (Â°C)",
      "type": "number",
      "validation": {"min": 35.0, "max": 42.0},
      "risk_weight": 9,
      "required": true
    }
    // ... 8ê°œ í•­ëª© ë”
  ],
  "ai_rules": {
    "auto_reject": [
      "symptoms=ìˆìŒ",
      "temperature>37.5"
    ],
    "recheck": [
      "respiratory=ìˆìŒ",
      "wounds=ìˆìŒ",
      "uniform=ë¶€ì ì ˆ"
    ],
    "warning": [
      "makeup=ë¶€ì ì ˆ",
      "temperature>=37.0 AND temperature<=37.5"
    ],
    "medical": [
      "temperature>38.0",
      "symptoms=ìˆìŒ AND respiratory=ìˆìŒ"
    ]
  },
  "created_at": "2025-09-05T10:00:00Z"
}
```

**ìš©ë„**: ì²´í¬ë¦¬ìŠ¤íŠ¸ êµ¬ì¡° ë° AI íŒì • ê·œì¹™ ì •ì˜  
**í™•ì¥ì„±**: ìƒˆë¡œìš´ ì²´í¬ë¦¬ìŠ¤íŠ¸ í…œí”Œë¦¿ ì‰½ê²Œ ì¶”ê°€

#### 3. CheckRecords (ì²´í¬ ê¸°ë¡)
```json
{
  "PK": "RECORD#2025-09-05",
  "SK": "USER#user_001#08:15:30",
  "record_id": "rec_20250905_001",
  "user_id": "user_001",
  "user_name": "ê¹€ì‘ì—…ì",
  "department": "ìƒì‚°ë¶€",
  "team": "AíŒ€",
  "template_id": "hygiene_daily",
  "template_name": "ì‘ì—…ì› ì¼ì¼ ìœ„ìƒìƒíƒœ ì ê²€í‘œ",
  "responses": {
    "symptoms": "ì—†ìŒ",
    "temperature": 36.5,
    "respiratory": "ì—†ìŒ",
    "wounds": "ì—†ìŒ",
    "uniform": "ì ì ˆ",
    "accessories": true,
    "hair": "ë‹¨ì •í•¨",
    "nails": "ì ì ˆ",
    "makeup": "ì ì ˆ",
    "personal_items": true
  },
  "ai_judgment": {
    "result": "approved",
    "score": 95,
    "reason": "ëª¨ë“  í•­ëª© ì •ìƒ ë²”ìœ„",
    "message": "ìœ„ìƒìƒíƒœ ì ê²€ ì™„ë£Œ! ì•ˆì „í•˜ê²Œ ì‘ì—…í•˜ì„¸ìš” ğŸ’ª",
    "risk_factors": [],
    "processing_time": 3.2
  },
  "created_at": "2025-09-05T08:15:30Z",
  "status": "completed",
  "ip_address": "192.168.1.100",
  "user_agent": "Mozilla/5.0..."
}
```

**ìš©ë„**: ì‹¤ì œ ì²´í¬ ê¸°ë¡ ë° AI íŒì • ê²°ê³¼ ì €ì¥  
**íŒŒí‹°ì…˜**: ë‚ ì§œë³„ë¡œ ë¶„ì‚°í•˜ì—¬ ì„±ëŠ¥ ìµœì í™”

#### 4. Assignments (ë°°ì • ê´€ë¦¬)
```json
{
  "PK": "ASSIGNMENT#2025-09-05",
  "SK": "USER#user_001",
  "assignment_id": "assign_20250905_001",
  "user_id": "user_001",
  "user_name": "ê¹€ì‘ì—…ì",
  "department": "ìƒì‚°ë¶€",
  "team": "AíŒ€",
  "template_id": "hygiene_daily",
  "schedule": {
    "days": ["MON", "TUE", "WED", "THU", "FRI"],
    "deadline": "08:20",
    "timezone": "Asia/Seoul",
    "reminder": "07:30"
  },
  "status": "active",
  "exceptions": {
    "vacation": false,
    "sick_leave": false,
    "business_trip": false,
    "special_work": false,
    "exemption_reason": null
  },
  "assigned_by": "operator_001",
  "assigned_at": "2025-09-05T07:00:00Z",
  "effective_date": "2025-09-05",
  "expiry_date": null
}
```

**ìš©ë„**: ì‚¬ìš©ìë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë°°ì • ë° ì˜ˆì™¸ ê´€ë¦¬  
**ìœ ì—°ì„±**: ê°œë³„/ë¶€ì„œë³„/ì„ì‹œ ë°°ì • ëª¨ë‘ ì§€ì›

### DynamoDB ì¸ë±ìŠ¤ ì„¤ê³„

#### GSI-1: UserIndex
- **PK**: `user_id`
- **SK**: `created_at`
- **ìš©ë„**: ì‚¬ìš©ìë³„ ì²´í¬ ì´ë ¥ ì¡°íšŒ
- **ì¿¼ë¦¬ ì˜ˆì‹œ**: íŠ¹ì • ì‚¬ìš©ìì˜ ìµœê·¼ 7ì¼ ì²´í¬ ê¸°ë¡

#### GSI-2: DateIndex
- **PK**: `date` (YYYY-MM-DD)
- **SK**: `created_at`
- **ìš©ë„**: ì¼ë³„ ì „ì²´ í˜„í™© ì¡°íšŒ
- **ì¿¼ë¦¬ ì˜ˆì‹œ**: ì˜¤ëŠ˜ ì „ì²´ ì™„ë£Œìœ¨, ì‹œê°„ëŒ€ë³„ ì™„ë£Œ ì¶”ì´

#### GSI-3: StatusIndex
- **PK**: `status#template_id`
- **SK**: `created_at`
- **ìš©ë„**: ë¯¸ì™„ë£Œì ì‹¤ì‹œê°„ ì¡°íšŒ
- **ì¿¼ë¦¬ ì˜ˆì‹œ**: í˜„ì¬ ë¯¸ì™„ë£Œì ëª©ë¡, ì¶œì… ë¶ˆê°€ì ëª©ë¡

#### GSI-4: TeamIndex
- **PK**: `team#date`
- **SK**: `created_at`
- **ìš©ë„**: íŒ€ë³„ í˜„í™© ì¡°íšŒ (ì±…ì„ììš©)
- **ì¿¼ë¦¬ ì˜ˆì‹œ**: AíŒ€ ì˜¤ëŠ˜ ì™„ë£Œ í˜„í™©

## API ì„¤ê³„ (RESTful)

### ì²´í¬ë¦¬ìŠ¤íŠ¸ ê´€ë ¨
```
POST   /api/v1/checklist/submit
       Body: { user_id, template_id, responses }
       Response: { record_id, ai_judgment }

GET    /api/v1/checklist/status/{user_id}
       Response: { today_status, pending_checklists }

GET    /api/v1/checklist/history/{user_id}?days=7
       Response: { records[], summary }

GET    /api/v1/checklist/template/{template_id}
       Response: { template_config, items[] }
```

### ëŒ€ì‹œë³´ë“œ ê´€ë ¨
```
GET    /api/v1/dashboard/overview/{date}
       Response: { total_users, completed, completion_rate, rejected }

GET    /api/v1/dashboard/incomplete/{date}
       Response: { incomplete_users[], overdue_users[] }

GET    /api/v1/dashboard/team/{team_id}/{date}
       Response: { team_stats, member_status[] }

GET    /api/v1/dashboard/realtime/{date}
       Response: { current_stats, hourly_trend[] }
```

### ê´€ë¦¬ ê´€ë ¨
```
POST   /api/v1/assignment/assign
       Body: { user_ids[], template_id, schedule }
       Response: { assignment_ids[] }

GET    /api/v1/assignment/list/{date}
       Response: { assignments[] }

PUT    /api/v1/assignment/{assignment_id}/exception
       Body: { exception_type, reason, duration }
       Response: { updated_assignment }

DELETE /api/v1/assignment/{assignment_id}
       Response: { success }
```

## ê¸°ìˆ  ìŠ¤íƒ ì„ íƒ ê·¼ê±°

### DynamoDB ì„ íƒ ì´ìœ 
âœ… **ì¥ì **:
- ì„œë²„ë¦¬ìŠ¤ (ê´€ë¦¬ ë¶€ë‹´ ì—†ìŒ)
- ìë™ ìŠ¤ì¼€ì¼ë§ (íŠ¸ë˜í”½ ì¦ê°€ ëŒ€ì‘)
- AWS ì„œë¹„ìŠ¤ í†µí•© (Lambda, API Gateway)
- ë¹ ë¥¸ ì½ê¸°/ì“°ê¸° ì„±ëŠ¥
- í•´ì»¤í†¤ì— ì í•©í•œ ë¹ ë¥¸ ì„¤ì •

âŒ **ë‹¨ì **:
- ë³µì¡í•œ ì¿¼ë¦¬ ì œí•œ (JOIN ë¶ˆê°€)
- ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì–´ë ¤ì›€
- ë¹„ìš© ì˜ˆì¸¡ ì–´ë ¤ì›€ (ëŒ€ìš©ëŸ‰ ì‹œ)

### ëŒ€ì•ˆ ê¸°ìˆ  ë¹„êµ

#### RDS (MySQL/PostgreSQL)
- **ì¥ì **: ë³µì¡í•œ ì¿¼ë¦¬, íŠ¸ëœì­ì…˜, í‘œì¤€ SQL
- **ë‹¨ì **: ì„œë²„ ê´€ë¦¬, ìŠ¤ì¼€ì¼ë§ ë³µì¡, í•´ì»¤í†¤ ì‹œê°„ ë¶€ì¡±
- **ê²°ë¡ **: Phase 2ì—ì„œ ê³ ë ¤

#### DocumentDB (MongoDB í˜¸í™˜)
- **ì¥ì **: ìœ ì—°í•œ ìŠ¤í‚¤ë§ˆ, ë³µì¡í•œ ì¿¼ë¦¬
- **ë‹¨ì **: ë†’ì€ ë¹„ìš©, ê´€ë¦¬ ë³µì¡ì„±
- **ê²°ë¡ **: ìƒìš©í™” ë‹¨ê³„ì—ì„œ ê³ ë ¤

## ì„±ëŠ¥ ìµœì í™” ì „ëµ

### ì½ê¸° ìµœì í™”
```javascript
// ìì£¼ ì¡°íšŒí•˜ëŠ” ë°ì´í„° ìºì‹±
const cacheStrategy = {
  user_profile: "1ì‹œê°„ ìºì‹œ",
  template_config: "24ì‹œê°„ ìºì‹œ", 
  daily_stats: "5ë¶„ ìºì‹œ",
  realtime_status: "30ì´ˆ ìºì‹œ"
};

// ElastiCache Redis í™œìš©
const redis = new Redis(process.env.REDIS_URL);
```

### ì“°ê¸° ìµœì í™”
```javascript
// ë°°ì¹˜ ì“°ê¸°ë¡œ ì„±ëŠ¥ í–¥ìƒ
const batchWrite = {
  RequestItems: {
    'CheckRecords': [
      { PutRequest: { Item: record1 } },
      { PutRequest: { Item: record2 } }
    ]
  }
};

// ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ ì‘ë‹µ ì†ë„ í–¥ìƒ
const asyncProcessing = {
  immediate: "ì²´í¬ ê¸°ë¡ ì €ì¥",
  background: "AI ë¶„ì„, ì•Œë¦¼ ë°œì†¡, í†µê³„ ì—…ë°ì´íŠ¸"
};
```

### ë¹„ìš© ìµœì í™”
```javascript
// On-Demand vs Provisioned ì„ íƒ
const capacityMode = {
  development: "On-Demand",
  production: "Provisioned (ì˜ˆì¸¡ ê°€ëŠ¥í•œ íŠ¸ë˜í”½)"
};

// TTL ì„¤ì •ìœ¼ë¡œ ìë™ ì‚­ì œ
const ttlSettings = {
  old_records: "1ë…„ í›„ ìë™ ì‚­ì œ",
  temp_data: "24ì‹œê°„ í›„ ìë™ ì‚­ì œ"
};
```

## í™•ì¥ì„± ê³ ë ¤ì‚¬í•­

### Phase 2: ì¼ë°˜ê¸°ë¡í˜• ì¶”ê°€
```json
// ì°¨ì•• ì¸¡ì • ê¸°ë¡
{
  "PK": "RECORD#2025-09-05",
  "SK": "FACILITY#pressure_001#10:00:00",
  "record_type": "pressure_measurement",
  "facility_id": "room_b_to_a",
  "measurement_value": 1.7,
  "unit": "mmH2O",
  "judgment": "qualified",
  "measured_by": "facility_user_001"
}

// ì°½ê³  ì ê²€ ê¸°ë¡
{
  "PK": "RECORD#2025-09-05", 
  "SK": "STORAGE#warehouse_a#09:30:00",
  "record_type": "storage_inspection",
  "warehouse_id": "warehouse_a",
  "inspection_items": {...},
  "total_score": 85,
  "grade": "good",
  "pest_found": false
}
```

### Phase 3: ê³ ë„í™” ê¸°ëŠ¥
```javascript
// ì‹œê³„ì—´ ë°ì´í„° (Amazon TimeStream)
const timeSeriesData = {
  service: "Amazon TimeStream",
  use_case: "ì°¨ì•• íŠ¸ë Œë“œ, ì˜¨ìŠµë„ ë³€í™”",
  retention: "7ì¼ ë©”ëª¨ë¦¬, 1ë…„ ìê¸° ìŠ¤í† ë¦¬ì§€"
};

// ë³µì¡í•œ ë¶„ì„ (Amazon Redshift)
const analyticsData = {
  service: "Amazon Redshift",
  use_case: "ì›”ê°„ ë¦¬í¬íŠ¸, íŒ¨í„´ ë¶„ì„",
  data_source: "DynamoDB â†’ S3 â†’ Redshift"
};

// íŒŒì¼ ì €ì¥ (Amazon S3)
const fileStorage = {
  service: "Amazon S3",
  use_case: "ì‚¬ì§„, ë¬¸ì„œ, ë°±ì—…",
  lifecycle: "30ì¼ IA, 90ì¼ Glacier"
};
```

## ë³´ì•ˆ ë° ê·œì • ì¤€ìˆ˜

### ë°ì´í„° ë³´í˜¸
```javascript
// ê°œì¸ì •ë³´ ì•”í˜¸í™”
const encryption = {
  at_rest: "DynamoDB ê¸°ë³¸ ì•”í˜¸í™”",
  in_transit: "TLS 1.2+",
  application: "ë¯¼ê° ë°ì´í„° í•„ë“œë³„ ì•”í˜¸í™”"
};

// ì ‘ê·¼ ì œì–´
const accessControl = {
  authentication: "AWS Cognito",
  authorization: "IAM Role ê¸°ë°˜",
  audit: "CloudTrail ë¡œê¹…"
};
```

### GMP ê·œì • ì¤€ìˆ˜
```javascript
// ë°ì´í„° ë¬´ê²°ì„±
const integrity = {
  immutable_records: "ì²´í¬ ê¸°ë¡ ìˆ˜ì • ë¶ˆê°€",
  audit_trail: "ëª¨ë“  ë³€ê²½ ì´ë ¥ ì¶”ì ",
  digital_signature: "ì „ì ì„œëª… ì§€ì›"
};

// ë°ì´í„° ë³´ì¡´
const retention = {
  active_records: "3ë…„ ì˜¨ë¼ì¸ ë³´ê´€",
  archived_records: "7ë…„ ì•„ì¹´ì´ë¸Œ ë³´ê´€",
  deletion_policy: "ë²•ì  ìš”êµ¬ì‚¬í•­ ì¤€ìˆ˜"
};
```

## ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼

### ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§
```javascript
// CloudWatch ë©”íŠ¸ë¦­
const monitoring = {
  performance: "ì‘ë‹µ ì‹œê°„, ì²˜ë¦¬ëŸ‰, ì˜¤ë¥˜ìœ¨",
  capacity: "ì½ê¸°/ì“°ê¸° ìš©ëŸ‰, ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©ëŸ‰",
  business: "ì™„ë£Œìœ¨, ì´ìƒ ë°œìƒë¥ , ì‚¬ìš©ì í™œë™"
};

// ì•Œë¦¼ ì„¤ì •
const alerts = {
  critical: "ì‹œìŠ¤í…œ ì¥ì• , ë°ì´í„° ì†ì‹¤",
  warning: "ì„±ëŠ¥ ì €í•˜, ìš©ëŸ‰ ë¶€ì¡±",
  info: "ì¼ì¼ ë¦¬í¬íŠ¸, ì£¼ê°„ ìš”ì•½"
};
```

## ê°œë°œ ë° ë°°í¬ ì „ëµ

### í™˜ê²½ ë¶„ë¦¬
```javascript
const environments = {
  development: {
    database: "DynamoDB Local",
    capacity: "On-Demand",
    monitoring: "ê¸°ë³¸"
  },
  staging: {
    database: "DynamoDB (AWS)",
    capacity: "Provisioned (ìµœì†Œ)",
    monitoring: "ìƒì„¸"
  },
  production: {
    database: "DynamoDB (Multi-AZ)",
    capacity: "Auto Scaling",
    monitoring: "ì™„ì „"
  }
};
```

### ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
```javascript
// ë‹¨ê³„ë³„ ë§ˆì´ê·¸ë ˆì´ì…˜
const migration = {
  phase1: "ê¸°ë³¸ í…Œì´ë¸” ìƒì„±",
  phase2: "ì¸ë±ìŠ¤ ì¶”ê°€",
  phase3: "ë°ì´í„° ì´ê´€",
  phase4: "ê²€ì¦ ë° ìµœì í™”"
};
```

---
**ì‘ì„±ì¼**: 2025-09-05  
**ëª©ì **: MVP ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ì•„ì´ë””ì–´ ì •ë¦¬  
**ë‹¤ìŒ ë‹¨ê³„**: ì‹¤ì œ êµ¬í˜„ ì‹œ ìƒì„¸ ìŠ¤í‚¤ë§ˆ í™•ì •  
**ì°¸ê³ **: í•´ì»¤í†¤ ì‹œê°„ ì œì•½ì„ ê³ ë ¤í•œ ìµœì†Œ êµ¬ì¡° ìš°ì„ 
