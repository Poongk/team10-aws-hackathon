# 위생상태점검표 사용자 스토리

## 개요
작업원 일일 위생상태 점검표 기반 출입 통제 시스템의 사용자 스토리 정의

## 사용자 역할 정의

### 작업자 (Primary User)
- **목표**: 안전하고 빠른 출입 통제 절차 완료
- **니즈**: 간편한 체크리스트 작성, 명확한 판정 결과, AI 도움

### 관리자 (Secondary User)  
- **목표**: 효율적인 출입 통제 관리 및 모니터링
- **니즈**: 실시간 QR 스캔, 출입 로그 관리, 시스템 운영

## 사용자 스토리

### Epic 1: 작업자 체크리스트 작성

#### US-001: 작업자 로그인
**As a** 작업자  
**I want to** 사번으로 간편하게 로그인하고  
**So that** 개인화된 체크리스트 서비스를 이용할 수 있다

**인수 조건:**
- 사번 입력으로 로그인 가능
- 개인 이름 확인 메시지 표시
- 로그인 실패 시 오류 메시지 표시

**시나리오:**
```
Given 작업자가 앱에 접속했을 때
When 올바른 사번을 입력하면
Then "○○○님 안녕하세요" 메시지와 함께 대시보드로 이동한다
```

#### US-002: 개인 대시보드 이용
**As a** 작업자  
**I want to** 대시보드에서 체크리스트 작성과 결과 보기를 선택하고  
**So that** 필요한 기능에 빠르게 접근할 수 있다

**인수 조건:**
- "체크리스트 작성" 버튼 표시
- "결과 보기" 버튼 표시 (이전 기록)
- 직관적인 UI 구성

**시나리오:**
```
Given 작업자가 로그인했을 때
When 대시보드 화면이 표시되면
Then "체크리스트 작성"과 "결과 보기" 버튼을 볼 수 있다
```

#### US-003: 기본 체크리스트 작성
**As a** 작업자  
**I want to** 9개 위생상태 항목을 예/아니오로 선택하고  
**So that** 빠르고 정확하게 자가 점검을 완료할 수 있다

**인수 조건:**
- 9개 항목 순차적 표시
- 예/아니오 선택 가능
- 필수 항목 미입력 시 제출 불가
- 진행률 표시

**시나리오:**
```
Given 작업자가 "체크리스트 작성"을 클릭했을 때
When 모든 항목에 "예"를 선택하고 제출하면
Then 적합 판정과 QR 코드가 생성된다
```

#### US-004: AI 판별 요청 (상처 검사)
**As a** 작업자  
**I want to** 상처 여부가 애매할 때 "잘 모르겠음"을 선택하고 AI 도움을 받아서  
**So that** 정확한 판정을 받을 수 있다

**인수 조건:**
- 3번 항목에서만 "잘 모르겠음" 선택 가능
- AI 판별 팝업 창 표시
- 카메라 활성화 및 사진 촬영 가능
- AI 분석 결과 명확히 표시

**시나리오:**
```
Given 작업자가 3번 항목에서 "잘 모르겠음"을 선택했을 때
When 상처 부위 사진을 촬영하면
Then AI가 분석하여 적합/부적합 결과를 팝업으로 보여준다
```

#### US-005: AI 결과 확인 및 적용
**As a** 작업자  
**I want to** AI 판별 결과를 확인하고 체크리스트에 자동 반영되도록 하여  
**So that** 정확한 정보로 최종 제출할 수 있다

**인수 조건:**
- AI 결과를 팝업에서 명확히 표시
- "닫음" 버튼으로 팝업 종료
- 체크리스트 항목 자동 업데이트 (적합/부적합)
- 업데이트된 상태로 제출 가능

**시나리오:**
```
Given AI 판별 결과가 팝업에 표시되었을 때
When "닫음" 버튼을 클릭하면
Then 해당 항목이 AI 결과로 자동 업데이트되고 체크리스트를 완료할 수 있다
```

### Epic 2: 판정 결과 및 QR 코드

#### US-006: 적합 판정 및 QR 생성
**As a** 작업자  
**I want to** 모든 항목이 적합할 때 QR 코드를 받아서  
**So that** 출입구에서 빠르게 출입할 수 있다

**인수 조건:**
- 모든 항목 적합 시 QR 코드 자동 생성
- 30분 유효시간 표시
- 성공 메시지 표시
- QR 코드 화면 표시

**시나리오:**
```
Given 모든 체크리스트 항목이 적합일 때
When 제출 버튼을 클릭하면
Then "위생상태 점검 완료" 메시지와 함께 QR 코드가 생성된다
```

#### US-007: 부적합 판정 및 안내
**As a** 작업자  
**I want to** 부적합 항목이 있을 때 명확한 안내를 받아서  
**So that** 필요한 조치를 취할 수 있다

**인수 조건:**
- 부적합 사유별 맞춤 메시지 표시
- QR 코드 생성 없음
- 재검사 또는 의료진 상담 안내
- 조치 방법 명시

**시나리오:**
```
Given 체크리스트에 부적합 항목이 있을 때
When 제출 버튼을 클릭하면
Then 부적합 사유와 조치 방법이 안내된다
```

#### US-008: 이전 결과 조회
**As a** 작업자  
**I want to** 이전에 생성한 QR 코드와 결과를 확인하고  
**So that** 필요 시 재사용하거나 상태를 확인할 수 있다

**인수 조건:**
- "결과 보기"에서 이전 QR 코드 표시
- 유효/만료 상태 표시
- "만료시키기" 버튼 제공 (시연용)
- 만료 시 시각적 변화 (회색 + "만료됨" 텍스트)

**시나리오:**
```
Given 작업자가 "결과 보기"를 클릭했을 때
When 이전 QR 코드가 있으면
Then QR 코드와 상태 정보를 확인할 수 있다
```

### Epic 3: 관리자 출입 통제

#### US-009: 관리자 QR 스캐너 접속
**As a** 관리자  
**I want to** 로그인하자마자 QR 스캐너 화면을 보고  
**So that** 즉시 출입 통제 업무를 시작할 수 있다

**인수 조건:**
- 관리자 로그인 시 QR 스캐너 페이지 자동 표시
- 별도 페이지 이동 불필요
- 실시간 스캔 준비 상태

**시나리오:**
```
Given 관리자가 로그인했을 때
When 로그인이 완료되면
Then QR 스캐너 페이지가 즉시 표시된다
```

#### US-010: QR 코드 스캔 및 판정
**As a** 관리자  
**I want to** QR 코드를 스캔하여 출입 허용/거부를 판정하고  
**So that** 안전한 출입 통제를 할 수 있다

**인수 조건:**
- 유효한 QR: "출입 허용" 메시지 표시
- 만료된 QR: "만료된 코드" 메시지 표시
- 무효한 QR: "유효하지 않은 코드" 메시지 표시
- AI 검증 완료 시 추가 표시

**시나리오:**
```
Given 관리자가 QR 코드를 스캔했을 때
When QR 코드가 유효하면
Then "출입 허용 - ○○○님" 메시지가 표시된다
```

#### US-011: 출입 로그 기록
**As a** 관리자  
**I want to** 모든 출입 시도가 자동으로 기록되어  
**So that** 출입 현황을 추적하고 관리할 수 있다

**인수 조건:**
- 출입 허용/거부 모두 기록
- 시간, 사용자, 결과 정보 포함
- AI 검증 여부 표시
- 실시간 로그 업데이트

**시나리오:**
```
Given QR 스캔이 완료되었을 때
When 출입 판정이 내려지면
Then 시간, 사용자, 결과가 자동으로 로그에 기록된다
```

## 비기능적 요구사항

### 성능
- **응답 시간**: QR 생성 5초 이내, 스캔 응답 1초 이내
- **AI 분석**: 상처 판별 10초 이내
- **동시 사용자**: 50명 동시 접속 지원

### 사용성
- **학습 시간**: 신규 사용자 5분 이내 사용법 습득
- **완료 시간**: 체크리스트 작성 2-3분 이내
- **오류율**: 사용자 실수로 인한 오류 5% 이하

### 보안
- **QR 유효시간**: 30분 자동 만료
- **개인정보**: 사번 기반 최소 정보 수집
- **접근 제어**: 역할별 기능 분리

### 신뢰성
- **AI 정확도**: 상처 염증 판별 95% 이상
- **시스템 가용성**: 99% 이상
- **데이터 무결성**: 출입 로그 100% 보장

## 우선순위

### High Priority (MVP 필수)
- US-001: 작업자 로그인
- US-002: 개인 대시보드 이용
- US-003: 기본 체크리스트 작성
- US-004: AI 판별 요청 (상처 검사)
- US-005: AI 결과 확인 및 적용
- US-006: 적합 판정 및 QR 생성
- US-007: 부적합 판정 및 안내
- US-009: 관리자 QR 스캐너 접속
- US-010: QR 코드 스캔 및 판정
- US-011: 출입 로그 기록

### Medium Priority (시연 보완)
- US-008: 이전 결과 조회

### Low Priority (향후 확장)
- 다른 항목들의 AI 판별 기능
- 상세 통계 및 리포트
- 알림 시스템

## 수용 기준 요약

### 기본 플로우
1. 작업자 로그인 → 대시보드 → 체크리스트 작성 → 판정 → QR 생성
2. 관리자 로그인 → QR 스캐너 → 스캔 → 출입 판정 → 로그 기록

### AI 플로우  
1. "잘 모르겠음" 선택 → AI 팝업 → 사진 촬영 → AI 분석 → 결과 확인 → 체크리스트 업데이트

### 예외 처리
1. 부적합 판정 → 안내 메시지 → QR 생성 없음
2. 만료된 QR → 스캔 거부 → 재검사 안내

---
**작성일**: 2025-09-06  
**작성자**: 백승재  
**검토자**: 풍기덕  
**상태**: MVP 개발 준비 완료
