# 위생상태점검표 시연 시나리오

## 개요
작업원 일일 위생상태 점검표 기반 출입 통제 시스템의 MVP 시연 시나리오

## 주요 사용자 역할
- **작업자**: 체크리스트 작성 및 출입 요청
- **관리자**: QR 스캐너 운영 및 출입 통제
- **시스템**: AI 판별 및 QR 코드 생성

## QR 스캐너 접속 방법
**관리자 계정으로 로그인 시:**
- 로그인 완료 즉시 QR 스캐너 페이지가 메인 화면으로 표시
- 별도 페이지 이동 없이 바로 QR 코드 스캔 가능
- 실시간 스캔 결과 및 출입 로그 확인

## MVP 시연 시나리오

### 시나리오 1: 정상 케이스 (완전한 플로우)
**사용자**: 작업자 김철수  
**상황**: 모든 위생상태가 양호한 정상적인 출근

**단계:**
1. **로그인**
   - 스마트폰으로 앱 접속
   - 사번 입력: "EMP001"
   - 이름 확인: "김철수님 안녕하세요"

2. **개인 대시보드**
   - 메인 화면 진입
   - "체크리스트 작성" 버튼 표시
   - "결과 보기" 버튼 표시 (이전 기록)

3. **체크리스트 작성**
   - "체크리스트 작성" 버튼 클릭
   - 9개 항목 모두 "예" 선택
   - "제출" 버튼 클릭

4. **판정 결과**
   - "✅ 위생상태 점검 완료! 안전하게 작업하세요" 메시지
   - QR 코드 자동 생성 (유효시간: 30분)

5. **출입 과정**
   - 관리자 계정으로 로그인 (QR 스캐너 페이지 자동 표시)
   - 생성된 QR 코드 스캔
   - 스캔 결과 화면: "✅ 출입 허용 - 김철수님"
   - 출입 로그 자동 기록 (시간, 사용자, 결과)

**예상 소요시간**: 2분

### 시나리오 2: AI 판별 케이스 (핵심 기능)
**사용자**: 작업자 이영희  
**상황**: 손가락에 작은 상처가 있어 판단이 애매한 경우

**단계:**
1. **로그인**
   - 스마트폰으로 앱 접속
   - 사번 입력: "EMP002"
   - 이름 확인: "이영희님 안녕하세요"

2. **개인 대시보드**
   - 메인 화면 진입
   - "체크리스트 작성" 버튼 표시
   - "결과 보기" 버튼 표시 (이전 기록)

3. **체크리스트 작성**
   - "체크리스트 작성" 버튼 클릭
   - 1,2,4,5,6,7,8,9번 항목: "예" 선택
   - 3번 "신체 노출부위에 상처는 없는가?": "잘 모르겠음" 선택

4. **AI 판별 팝업**
   - "잘 모르겠음" 선택 시 AI 판별 팝업 창 표시
   - 카메라 활성화 안내: "상처 부위를 촬영해주세요"
   - 손가락 상처 부위 사진 촬영
   - 이미지 업로드 및 AI 분석 대기 (5-10초)

5. **AI 분석 결과 확인**
   - 팝업 내 결과 표시: "상처 크기가 작고 염증이 없어 적합 판정됩니다"
   - 사용자가 결과 내용 확인
   - "닫음" 버튼 클릭

6. **체크리스트 업데이트**
   - 3번 항목이 "잘 모르겠음"에서 "적합"으로 자동 변경
   - 모든 항목 완료 상태 확인
   - "제출" 버튼 클릭

7. **QR 코드 생성**
   - "✅ 위생상태 점검 완료! 안전하게 작업하세요" 메시지
   - QR 코드 자동 생성 (유효시간: 30분)

8. **출입 과정**
   - 관리자 계정으로 로그인 (QR 스캐너 페이지 자동 표시)
   - 생성된 QR 코드 스캔
   - 스캔 결과 화면: "✅ 출입 허용 (AI 검증 완료) - 이영희님"
   - 출입 로그 자동 기록 (시간, 사용자, AI 검증 결과)

**예상 소요시간**: 3분

### 시나리오 3: AI 판별 부적합 케이스 (염증 상처)
**사용자**: 작업자 박민수  
**상황**: 손목에 염증이 있는 상처가 있는 경우

**단계:**
1. **로그인**
   - 스마트폰으로 앱 접속
   - 사번 입력: "EMP003"
   - 이름 확인: "박민수님 안녕하세요"

2. **개인 대시보드**
   - 메인 화면 진입
   - "체크리스트 작성" 버튼 표시
   - "결과 보기" 버튼 표시 (이전 기록)

3. **체크리스트 작성**
   - "체크리스트 작성" 버튼 클릭
   - 1,2,4,5,6,7,8,9번 항목: "예" 선택
   - 3번 "신체 노출부위에 상처는 없는가?": "잘 모르겠음" 선택

4. **AI 판별 팝업**
   - "잘 모르겠음" 선택 시 AI 판별 팝업 창 표시
   - 카메라 활성화 안내: "상처 부위를 촬영해주세요"
   - 손목 염증 상처 부위 사진 촬영
   - 이미지 업로드 및 AI 분석 대기 (5-10초)

5. **AI 분석 결과 확인**
   - 팝업 내 결과 표시: "상처에 염증이 확인되어 부적합 판정됩니다"
   - "의료진 상담 후 재검사하시기 바랍니다" 안내
   - 사용자가 결과 내용 확인
   - "닫음" 버튼 클릭

6. **체크리스트 업데이트**
   - 3번 항목이 "잘 모르겠음"에서 "부적합"으로 자동 변경
   - 모든 항목 완료 상태 확인
   - "제출" 버튼 클릭

7. **판정 결과**
   - "❌ 건강상 이유로 오늘은 출근이 어렵습니다"
   - "🏥 보건실에서 상담 받으신 후 출입해주세요"
   - QR 코드 생성 없음

8. **출입 시도**
   - QR 코드가 없어 QR 스캐너 페이지에서 스캔 불가
   - 별도 안내 없음 (정상적인 차단)

**예상 소요시간**: 3분

### 시나리오 4: 일반 부적합 케이스
**사용자**: 작업자 정수연  
**상황**: 발열 증상이 있는 경우

**단계:**
1. **로그인**
   - 스마트폰으로 앱 접속
   - 사번 입력: "EMP004"
   - 이름 확인: "정수연님 안녕하세요"

2. **개인 대시보드**
   - 메인 화면 진입
   - "체크리스트 작성" 버튼 표시
   - "결과 보기" 버튼 표시 (이전 기록)

3. **체크리스트 작성**
   - "체크리스트 작성" 버튼 클릭
   - 1번 "발열, 설사, 구토 등의 증상은 없는가?": "아니오" 선택
   - 나머지 항목들도 작성 완료

4. **판정 결과**
   - "❌ 건강상 이유로 오늘은 출근이 어렵습니다"
   - "충분한 휴식 후 내일 다시 체크해주세요 🏠"
   - QR 코드 생성 없음

5. **출입 시도**
   - QR 코드가 없어 QR 스캐너 페이지에서 스캔 불가
   - 별도 안내 없음 (정상적인 차단)

**예상 소요시간**: 2분

### 시나리오 5: QR 코드 만료 케이스
**사용자**: 작업자 최수진  
**상황**: 이전에 생성된 QR 코드를 수동으로 만료시켜 만료 케이스 시연

**단계:**
1. **로그인**
   - 스마트폰으로 앱 접속
   - 사번 입력: "EMP005"
   - 이름 확인: "최수진님 안녕하세요"

2. **개인 대시보드**
   - 메인 화면 진입
   - "체크리스트 작성" 버튼 표시
   - "결과 보기" 버튼 표시 (이전 기록)

3. **결과 보기 페이지**
   - "결과 보기" 버튼 클릭
   - 이전에 생성된 QR 코드 표시
   - QR 코드 옆에 "만료시키기" 버튼 표시
   - 현재 상태: "유효함" 표시

4. **QR 코드 만료 처리**
   - "만료시키기" 버튼 클릭
   - QR 코드가 회색으로 변경
   - 하단에 "만료됨" 상태 표시
   - 만료 시간 기록

5. **만료된 QR 스캔 시도**
   - 관리자 계정으로 로그인 (QR 스캐너 페이지 자동 표시)
   - 만료된 QR 코드 스캔
   - 스캔 결과 화면: "❌ 만료된 코드입니다. 재검사 필요"
   - 만료 시간 정보 표시
   - 출입 거부 로그 기록

6. **재검사 안내**
   - "새로운 체크리스트 작성이 필요합니다" 메시지
   - 대시보드로 돌아가서 새 체크리스트 작성 안내

**예상 소요시간**: 2분

**시연 포인트:**
- 실시간 QR 만료 기능 시연
- 만료 상태 시각적 표시 (회색 + "만료됨" 텍스트)
- QR 스캐너의 만료 코드 감지 능력
- 사용자 친화적인 재검사 안내

## 시연 데모 순서

### 1단계: 기본 기능 시연 (5분)
- **시나리오 1**: 정상 케이스 전체 플로우
- 체크리스트 → QR 생성 → 스캔 → 출입 허용

### 2단계: 핵심 AI 기능 시연 (7분)
- **시나리오 2**: AI 판별 케이스
- 상처 사진 촬영 → AI 분석 → 결과 피드백 → 출입 허용

### 3단계: 예외 처리 시연 (5분)
- **시나리오 3**: AI 판별 부적합 케이스 (염증 상처)
- **시나리오 4**: 일반 부적합 케이스 (발열 증상)
- **시나리오 5**: QR 만료 케이스 (수동 만료 처리)

**총 시연 시간**: 17분

## 기술적 구현 포인트

### QR 코드 구조
```json
{
  "user_id": "emp_001",
  "name": "김철수",
  "check_time": "2025-09-06T08:15:00Z",
  "expire_time": "2025-09-06T08:45:00Z",
  "status": "approved",
  "ai_verified": false,
  "signature": "abc123..."
}
```

### AI 판별 응답 구조 (적합)
```json
{
  "result": "approved",
  "confidence": 0.95,
  "analysis": {
    "wound_size": "small",
    "inflammation": false,
    "bleeding": false
  },
  "message": "상처 크기가 작고 염증이 없어 적합 판정됩니다"
}
```

### AI 판별 응답 구조 (부적합)
```json
{
  "result": "rejected",
  "confidence": 0.92,
  "analysis": {
    "wound_size": "medium",
    "inflammation": true,
    "bleeding": false,
    "infection_risk": "high"
  },
  "message": "상처에 염증이 확인되어 부적합 판정됩니다"
}
```

### 스캐너 응답 메시지
- **정상**: "✅ 출입 허용 - {이름}님"
- **AI 검증**: "✅ 출입 허용 (AI 검증 완료) - {이름}님"
- **만료**: "❌ 만료된 코드입니다. 재검사 필요"
- **무효**: "❌ 유효하지 않은 코드입니다"

## 성공 기준
1. **사용자 경험**: 2-3분 내 체크리스트 완료
2. **AI 정확도**: 상처 판별 95% 이상 정확도
3. **시스템 응답**: QR 생성 5초 이내, 스캔 응답 1초 이내
4. **보안**: QR 코드 30분 자동 만료
5. **안정성**: 동시 접속 50명 처리 가능

---
**작성일**: 2025-09-06  
**작성자**: 백승재  
**검토자**: 풍기덕  
**상태**: MVP 시연 준비 완료
