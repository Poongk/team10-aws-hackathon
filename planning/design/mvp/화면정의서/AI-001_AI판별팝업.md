# AI-001: AI 판별 팝업

## 기본 정보
- **화면 ID**: AI-001
- **화면명**: AI 상처 판별 팝업
- **파일명**: `AIAnalysisPopup.jsx`
- **사용자**: 작업자
- **접근경로**: 체크리스트 3번 "잘모르겠음" 선택 시

## 와이어프레임
```
┌─────────────────────────────────┐
│ ████████████████████████████████ │ ← 반투명 배경
│ █                              █ │
│ █  ┌─────────────────────────┐ █ │
│ █  │  AI 상처 판별      [X] │ █ │ ← 팝업 헤더
│ █  ├─────────────────────────┤ █ │
│ █  │                         │ █ │
│ █  │   📷 카메라 뷰파인더    │ █ │ ← 카메라 영역
│ █  │                         │ █ │
│ █  │     [촬영하기]          │ █ │
│ █  ├─────────────────────────┤ █ │
│ █  │                         │ █ │
│ █  │  🔄 AI 분석 중...       │ █ │ ← 로딩 상태
│ █  │                         │ █ │
│ █  ├─────────────────────────┤ █ │
│ █  │  ✅ 분석 완료           │ █ │
│ █  │                         │ █ │ ← 결과 영역
│ █  │  상처 크기가 작고       │ █ │
│ █  │  염증이 없어 적합       │ █ │
│ █  │  판정됩니다             │ █ │
│ █  │                         │ █ │
│ █  │        [닫음]           │ █ │ ← 액션 버튼
│ █  └─────────────────────────┘ █ │
│ ████████████████████████████████ │
└─────────────────────────────────┘
```

## 주요 구성요소

### 팝업 헤더
- 제목: "AI 상처 판별"
- X 버튼: 팝업 닫기

### 카메라 영역
- 카메라 뷰파인더 (정사각형)
- 촬영 가이드: "상처 부위를 화면 중앙에 맞춰주세요"
- 촬영 버튼: 큰 원형 버튼

### 상태별 표시

#### 1. 초기 상태 (카메라 준비)
```
📷 상처 부위를 촬영해주세요
화면 중앙에 상처를 맞춰주세요

[촬영하기]
```

#### 2. 로딩 상태 (AI 분석 중)
```
🔄 AI 분석 중...
잠시만 기다려주세요 (5-10초)

[취소]
```

#### 3. 결과 상태 (적합)
```
✅ 분석 완료

상처 크기가 작고 염증이 없어
적합 판정됩니다

[닫음]
```

#### 4. 결과 상태 (부적합)
```
❌ 분석 완료

상처에 염증이 확인되어
부적합 판정됩니다
의료진 상담 후 재검사하시기 바랍니다

[닫음]
```

## 기능 명세

### 카메라 처리
```javascript
const [cameraState, setCameraState] = useState('ready'); // ready, loading, result
const [analysisResult, setAnalysisResult] = useState(null);

const capturePhoto = async () => {
  setCameraState('loading');
  const photo = await camera.capture();
  const result = await analyzeWound(photo);
  setAnalysisResult(result);
  setCameraState('result');
};
```

### AI 분석 결과 처리
```javascript
// 적합 결과
{
  result: 'approved',
  message: '상처 크기가 작고 염증이 없어 적합 판정됩니다',
  confidence: 0.95
}

// 부적합 결과
{
  result: 'rejected', 
  message: '상처에 염증이 확인되어 부적합 판정됩니다',
  recommendation: '의료진 상담 후 재검사하시기 바랍니다',
  confidence: 0.92
}
```

### 팝업 닫기 처리
- "닫음" 버튼 클릭 시
- 체크리스트 3번 항목 자동 업데이트
- 적합 → "예" 선택됨
- 부적합 → "아니오" 선택됨

## UI 요구사항

### 팝업 스타일
- 배경: 반투명 검은색 (rgba(0,0,0,0.5))
- 팝업: 흰색 배경, 둥근 모서리
- 크기: 화면 너비의 90%
- 위치: 화면 중앙

### 카메라 뷰파인더
- 크기: 280px × 280px (정사각형)
- 테두리: 점선, 회색
- 가이드 텍스트: 14px, 회색

### 상태별 아이콘
- 카메라: 📷 (파란색)
- 로딩: 🔄 (회전 애니메이션)
- 성공: ✅ (녹색)
- 실패: ❌ (빨간색)

### 버튼 스타일
- 촬영 버튼: 큰 원형, 파란색
- 닫음 버튼: 전체 너비, 파란색
- 취소 버튼: 전체 너비, 회색

## 오류 처리

### 카메라 권한 오류
```
❌ 카메라 권한이 필요합니다
설정에서 카메라 권한을 허용해주세요

[설정으로 이동] [취소]
```

### 네트워크 오류
```
❌ 분석에 실패했습니다
네트워크 연결을 확인해주세요

[다시 시도] [취소]
```

## 참고 문서
- **시연시나리오**: 시나리오 2,3의 4-5단계 "AI 판별 과정"
- **사용자스토리**: US-004 AI 판별 요청, US-005 AI 결과 확인
- **상세분석**: AI 판별 응답 구조

---
**작성일**: 2025-09-06  
**상태**: 개발 준비 완료
