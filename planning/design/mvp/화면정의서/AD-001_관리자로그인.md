# AD-001: 관리자 로그인 화면

## 기본 정보
- **화면 ID**: AD-001
- **화면명**: 관리자 로그인
- **파일명**: `AdminLogin.jsx`
- **사용자**: 관리자
- **접근경로**: 관리자 전용 URL (/admin)

## 와이어프레임

### 메인 로그인 화면
```
┌─────────────────────────┐
│                         │
│    GMP CheckMaster      │
│                         │
│      🔧 일동제약        │
│    위생상태 점검 시스템   │
│                         │
│                         │
│    👨💼 관리자 로그인     │
│                         │
│  관리자 ID               │
│  ┌─────────────────┐    │
│  │ 관리자 ID를 입력  │    │
│  └─────────────────┘    │
│                         │
│  비밀번호                │
│  ┌─────────────────┐    │
│  │ ••••••••••••••  │    │
│  └─────────────────┘    │
│                         │
│  ┌─────────────────┐    │
│  │   🔧 관리자 로그인│    │ ← 호버 시: 🎭 해커톤 백도어
│  └─────────────────┘    │
│                         │
│ ─────────────────────── │
│                         │
│  💡 로그인 버튼에 마우스를│
│     올려보세요           │
│                         │
└─────────────────────────┘
```

### 오류 상태 화면
```
┌─────────────────────────┐
│                         │
│    GMP CheckMaster      │
│                         │
│      🔧 일동제약        │
│    위생상태 점검 시스템   │
│                         │
│                         │
│    👨💼 관리자 로그인     │
│                         │
│  관리자 ID               │
│  ┌─────────────────┐    │
│  │ wrongadmin      │    │ ← 잘못된 입력
│  └─────────────────┘    │
│                         │
│  비밀번호                │
│  ┌─────────────────┐    │
│  │ ••••••••••••••  │    │
│  └─────────────────┘    │
│                         │
│  ┌─────────────────┐    │
│  │ ⚠️ 등록되지 않은  │    │ ← 오류 메시지
│  │  관리자 ID입니다  │    │
│  └─────────────────┘    │
│                         │
│  ┌─────────────────┐    │
│  │   🔧 관리자 로그인│    │ ← 비활성화 상태
│  └─────────────────┘    │
│                         │
└─────────────────────────┘
```

### 로딩 상태 화면
```
┌─────────────────────────┐
│                         │
│    GMP CheckMaster      │
│                         │
│      🔧 일동제약        │
│    위생상태 점검 시스템   │
│                         │
│                         │
│    👨💼 관리자 로그인     │
│                         │
│  관리자 ID               │
│  ┌─────────────────┐    │
│  │ admin           │    │ ← 유효한 입력
│  └─────────────────┘    │
│                         │
│  비밀번호                │
│  ┌─────────────────┐    │
│  │ ••••••••••••••  │    │
│  └─────────────────┘    │
│                         │
│  ┌─────────────────┐    │
│  │  로그인 중...    │    │ ← 로딩 상태
│  └─────────────────┘    │
│                         │
│ ─────────────────────── │
│                         │
│  💡 로그인 버튼에 마우스를│
│     올려보세요           │
│                         │
└─────────────────────────┘
```

## 상호작용 설계

### 메인 로그인 화면
1. **일반 로그인**
   - 관리자 ID 입력 → 실시간 검증 → 로그인 버튼 활성화
   - 로그인 버튼 클릭 → ID 검증 → 성공 시 QR 스캐너로 이동
   - 실패 시: 오류 메시지 표시

2. **해커톤 백도어 (호버 효과)**
   - 로그인 버튼에 마우스 오버 → 텍스트 변경: "🎭 해커톤 백도어"
   - 버튼 색상 변경: 주황색 → 보라색
   - 스케일 효과: `scale(1.02)`
   - 호버 상태에서 클릭 → 즉시 admin으로 로그인

### 입력 검증 플로우
1. **실시간 검증**
   - 입력 시마다 소문자 변환
   - 형식 검증: 영문자, 숫자, 하이픈, 언더스코어만 허용
   - 등록된 관리자 ID 확인

2. **오류 처리**
   - 빈 입력: "관리자 ID를 입력해주세요"
   - 형식 오류: "올바른 관리자 ID 형식을 입력해주세요"
   - 미등록 ID: "등록되지 않은 관리자 ID입니다"

## 주요 구성요소

### 헤더 영역
- **관리자 로고**: 🔧 아이콘 + "관리자" 텍스트
- **앱 제목**: "GMP CheckMaster AI"
- **구분**: 작업자 로그인과 시각적 차별화

### 환영 메시지 영역
- **메인 메시지**: "출입 통제 관리"
- **서브 메시지**: "안전한 작업환경 관리"
- **색상**: 관리자 테마 (주황색 계열)

### 입력 영역
- **관리자 ID 필드**:
  - 라벨: "관리자 ID"
  - 플레이스홀더: "admin"
  - 입력 타입: text
  - 자동완성: off

### 액션 영역
- **로그인 버튼**:
  - 텍스트: "관리자 로그인"
  - 전체 너비 버튼
  - 주황색 테마

### 피드백 영역
- **오류 메시지**: 로그인 실패 시 표시
- **성공 메시지**: 로그인 성공 시 표시

### 네비게이션 영역
- **작업자 로그인 링크**: 일반 로그인으로 이동

## 기능 명세

### 관리자 계정 (MVP)
```javascript
const adminAccounts = [
  { id: 'admin', name: '시스템 관리자' },
  { id: 'manager', name: '출입 관리자' },
  { id: 'supervisor', name: '현장 관리자' }
];
```

### 로그인 처리
```javascript
const handleAdminLogin = async (adminId) => {
  // 입력 검증
  if (!adminId.trim()) {
    setError('관리자 ID를 입력해주세요');
    return;
  }
  
  // 관리자 계정 확인
  const admin = adminAccounts.find(acc => acc.id === adminId);
  if (!admin) {
    setError('등록되지 않은 관리자 ID입니다');
    return;
  }
  
  // 로그인 성공
  setAdminSession(admin);
  navigate('/admin/scanner'); // QR 스캐너로 자동 이동
};
```

### 세션 관리
```javascript
const [adminSession, setAdminSession] = useState(null);
const [isLoading, setIsLoading] = useState(false);
const [error, setError] = useState('');

// 자동 로그인 체크
useEffect(() => {
  const savedSession = localStorage.getItem('adminSession');
  if (savedSession) {
    setAdminSession(JSON.parse(savedSession));
    navigate('/admin/scanner');
  }
}, []);
```

## UI 요구사항

### 관리자 테마
- **주색상**: 주황색 (#f97316)
- **보조색상**: 진한 주황색 (#ea580c)
- **배경**: 연한 주황색 (#fff7ed)
- **텍스트**: 진한 회색 (#1f2937)

### 시각적 구분
- **로고**: 🔧 렌치 아이콘 (관리자 상징)
- **색상**: 작업자(파란색)와 구분되는 주황색
- **레이아웃**: 동일하지만 색상 테마 차별화

### 입력 필드 스타일
```css
.admin-input {
  border: 2px solid #fed7aa;
  background: white;
}

.admin-input:focus {
  border-color: #f97316;
  box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
}
```

### 버튼 스타일
```css
.admin-button {
  background: #f97316;
  color: white;
}

.admin-button:hover {
  background: #ea580c;
}

.admin-button:disabled {
  background: #fed7aa;
}
```

## 보안 요구사항

### 접근 제어
- **URL 보호**: /admin 경로 접근 제한
- **세션 관리**: 관리자 세션 별도 관리
- **자동 로그아웃**: 30분 비활성 시 자동 로그아웃

### 입력 검증
- **ID 형식**: 영문자, 숫자만 허용
- **길이 제한**: 3~20자
- **특수문자**: 하이픈(-), 언더스코어(_)만 허용

### 로그 기록
```javascript
const logAdminAccess = (adminId, action, result) => {
  const logEntry = {
    timestamp: new Date().toISOString(),
    adminId,
    action, // 'login', 'logout', 'scan'
    result, // 'success', 'failure'
    ip: getClientIP(),
    userAgent: navigator.userAgent
  };
  
  // 서버로 로그 전송
  sendAdminLog(logEntry);
};
```

## 오류 메시지

### 입력 오류
- **빈 입력**: "관리자 ID를 입력해주세요"
- **형식 오류**: "올바른 관리자 ID 형식을 입력해주세요"
- **존재하지 않는 ID**: "등록되지 않은 관리자 ID입니다"

### 시스템 오류
- **네트워크 오류**: "서버 연결에 실패했습니다. 다시 시도해주세요"
- **세션 만료**: "세션이 만료되었습니다. 다시 로그인해주세요"

## 네비게이션

### 로그인 성공 후
- **자동 이동**: AD-002 QR 스캐너 화면
- **세션 저장**: localStorage에 관리자 정보 저장
- **환영 메시지**: "○○○ 관리자님 환영합니다"

### 작업자 로그인 연결
- **링크 텍스트**: "작업자 로그인은 여기를 클릭"
- **이동 경로**: WK-001 작업자 로그인 화면

## 참고 문서
- **시연시나리오**: 모든 시나리오의 관리자 로그인 단계
- **사용자스토리**: US-009 관리자 QR 스캐너 접속
- **공통정의서**: 로그인 화면 구조

---
**작성일**: 2025-09-06  
**상태**: 개발 준비 완료
