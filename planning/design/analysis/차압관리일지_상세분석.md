# 차압관리일지 상세 분석

## 개요
일동제약 실제 사용 중인 "차압관리일지"를 기반으로 일반기록형 체크리스트 시스템 설계

## 실제 양식 분석

### 기본 정보
- **회사**: 일동제약(ILDONG)
- **문서명**: 차압관리일지
- **양식번호**: 3-6-02
- **작업소명**: 중앙자동
- **버전**: Version 3-01

### 관리 대상 및 기준
- **측정 구간**: Room B (정압중성) → Room A (정압)
- **차압 기준**: 
  - 적격: +1.1 mmH2O 이상 또는 -1.1 mmH2O 이하
  - 부적격: +0.5 mmH2O 이상 또는 -0.5 mmH2O 이하
- **측정 빈도**: 하루 10회 이상 (정기 측정)

### 현재 기록 항목

#### 1. 측정일시
**현재 방식**: 수기 기입 (2022.10.05. 08:26)  
**디지털화**:
- 유형: 날짜시간 선택
- 자동: 현재 시간 기본값
- 검증: 과거/미래 시간 제한

#### 2. 측정값 (차압)
**현재 방식**: 수기 기입 (+1.7, +1.8 등)  
**디지털화**:
- 유형: 숫자 입력 (소수점 1자리)
- 범위: -5.0 ~ +5.0 mmH2O
- 단위: 자동 표시 (mmH2O)

#### 3. 판정
**현재 방식**: 적격/부적격 체크박스  
**디지털화**:
- 유형: 자동 판정 (측정값 기반)
- 표시: 적격/주의/부적격 색상 구분
- 알림: 부적격 시 즉시 알림

#### 4. 점검자
**현재 방식**: 수기 서명  
**디지털화**:
- 유형: 자동 입력 (로그인 사용자)
- 추가: 디지털 서명 옵션
- 검증: 권한 있는 담당자만

#### 5. 비고
**현재 방식**: 수기 기입 (N/A, 특이사항 등)  
**디지털화**:
- 유형: 텍스트 입력 (선택사항)
- 템플릿: 자주 사용하는 문구 제공
- 사진: 이상 상황 사진 첨부 가능

## 디지털 체크리스트 설계

### 항목 구성
```json
{
  "template_id": "differential_pressure_log",
  "name": "차압관리일지",
  "type": "general_check",
  "category": "facility",
  "ai_judgment_enabled": false,
  "items": [
    {
      "id": "measurement_datetime",
      "question": "측정 일시",
      "type": "datetime",
      "required": true,
      "default": "current_time"
    },
    {
      "id": "room_from",
      "question": "측정 구간 (From)",
      "type": "select",
      "options": ["Room B (정압중성)", "Room C", "복도", "외부"],
      "required": true,
      "default": "Room B (정압중성)"
    },
    {
      "id": "room_to",
      "question": "측정 구간 (To)",
      "type": "select", 
      "options": ["Room A (정압)", "Room B", "복도", "외부"],
      "required": true,
      "default": "Room A (정압)"
    },
    {
      "id": "pressure_value",
      "question": "차압 측정값",
      "type": "number",
      "unit": "mmH2O",
      "validation": {
        "min": -5.0,
        "max": 5.0,
        "decimal": 1
      },
      "required": true
    },
    {
      "id": "equipment_status",
      "question": "측정 장비 상태",
      "type": "select",
      "options": ["정상", "교정 필요", "이상"],
      "required": true,
      "default": "정상"
    },
    {
      "id": "notes",
      "question": "특이사항 및 비고",
      "type": "text",
      "required": false,
      "placeholder": "특이사항이 있으면 기록하세요"
    },
    {
      "id": "photo",
      "question": "이상 상황 사진 (선택)",
      "type": "photo",
      "required": false
    }
  ]
}
```

## 자동 판정 시스템

### 판정 기준 설정
```javascript
const PRESSURE_CRITERIA = {
  // 기본 기준 (Room B → Room A)
  standard: {
    qualified_min: 1.1,     // +1.1 mmH2O 이상
    qualified_max: -1.1,    // -1.1 mmH2O 이하
    warning_min: 0.8,       // 주의 범위
    warning_max: -0.8,
    critical_min: 0.5,      // 부적격 범위
    critical_max: -0.5
  },
  
  // 다른 구간별 기준 (확장 가능)
  other_rooms: {
    // 추후 다른 방 간 차압 기준 추가
  }
};
```

### 자동 판정 로직
```javascript
function evaluatePressure(value, fromRoom, toRoom) {
  const criteria = PRESSURE_CRITERIA.standard;
  
  if (value >= criteria.qualified_min || value <= criteria.qualified_max) {
    return {
      status: "적격",
      color: "green",
      message: "차압이 정상 범위입니다",
      alert: false
    };
  } else if (value >= criteria.warning_min || value <= criteria.warning_max) {
    return {
      status: "주의",
      color: "yellow", 
      message: "차압이 주의 범위입니다. 지속 관찰 필요",
      alert: true,
      alert_level: "warning"
    };
  } else {
    return {
      status: "부적격",
      color: "red",
      message: "차압이 기준을 벗어났습니다. 즉시 조치 필요",
      alert: true,
      alert_level: "critical"
    };
  }
}
```

## 사용자 여정 설계

### 시설 담당자 일일 업무 흐름

#### 1단계: 정기 측정 시작
```
담당자가 측정 장비와 함께 해당 구역 이동
→ 스마트폰/태블릿으로 "차압관리일지" 접속
→ 측정 구간 확인 (Room B → Room A)
```

#### 2단계: 측정 및 입력 (1-2분)
```
차압 측정기로 실제 측정
→ 측정값을 앱에 입력 (+1.7 mmH2O)
→ 자동 판정 결과 확인
→ 특이사항 있으면 비고 입력
```

#### 3단계: 자동 처리 및 저장
```
시스템이 자동으로 판정 수행
→ 적격/주의/부적격 결과 표시
→ 부적격 시 즉시 알림 발송
→ 데이터베이스에 자동 저장
```

#### 4단계: 후속 조치 (부적격 시)
```
부적격 판정 시:
→ 시설 책임자에게 즉시 알림
→ 재측정 또는 장비 점검 안내
→ 조치 완료까지 추적 관리
```

### 하루 측정 패턴
```
08:00 - 1차 측정 (근무 시작)
10:00 - 2차 측정 (오전 중간)
12:00 - 3차 측정 (점심 전)
14:00 - 4차 측정 (오후 시작)
16:00 - 5차 측정 (오후 중간)
18:00 - 6차 측정 (근무 종료)
```

## 알림 및 대응 시스템

### 알림 정책
- **부적격 (Critical)**: 즉시 푸시 + SMS + 이메일
- **주의 (Warning)**: 푸시 알림만
- **적격 (Normal)**: 알림 없음
- **미측정**: 정해진 시간 30분 경과 시 리마인더

### 알림 대상
- **시설 담당자**: 모든 측정 결과
- **시설 책임자**: 부적격 및 주의 상황만
- **품질관리팀**: 부적격 상황만
- **관리자**: 시스템 이상 시만

### 대응 절차
```
부적격 발생 시:
1. 즉시 재측정 (측정 오류 가능성)
2. 장비 점검 (측정기 이상 여부)
3. 시설 점검 (공조 시스템 이상)
4. 조치 완료 후 재측정
5. 정상 복구 확인
```

## 데이터 분석 및 리포트

### 실시간 모니터링
- **현재 차압 상태**: 실시간 대시보드
- **측정 이력**: 시간별 차압 변화 그래프
- **이상 알림**: 부적격 발생 현황
- **측정 누락**: 미측정 구간 표시

### 주간/월간 리포트
- **차압 트렌드**: 시간대별 평균 차압
- **적격률**: 전체 측정 중 적격 비율
- **이상 발생**: 부적격 발생 빈도 및 원인
- **개선 제안**: AI 기반 패턴 분석

### 예측 분석 (확장 기능)
- **장비 교정 시기**: 측정값 편차 분석
- **시설 점검 필요성**: 차압 변화 패턴 분석
- **계절별 영향**: 외부 환경과 차압 상관관계

## 기술적 구현 고려사항

### 모바일/태블릿 최적화
- **큰 숫자 입력**: 측정값 입력 시 큰 키패드
- **음성 입력**: 측정값 음성으로 입력 가능
- **오프라인 지원**: 네트워크 불안정 시 로컬 저장

### 데이터 정확성
- **입력 검증**: 비정상적 측정값 경고
- **중복 방지**: 동일 시간대 중복 측정 방지
- **데이터 백업**: 자동 클라우드 백업

### 통합 연동
- **공조 시스템**: 실제 공조기 데이터와 연동 (확장)
- **다른 체크리스트**: 위생상태, 방서관리와 통합 대시보드
- **ERP 연동**: 기존 시설관리 시스템과 연동

## 확장 가능성

### Phase 2 기능
- **IoT 센서 연동**: 자동 차압 측정 및 기록
- **예측 유지보수**: AI 기반 장비 이상 예측
- **모바일 알림**: 위치 기반 담당자 자동 호출
- **AR 가이드**: 측정 위치 AR로 안내

### 다른 시설 관리 확장
- **온습도 관리일지**: 온도/습도 측정 기록
- **공조기 운영일지**: 공조 장비 상태 점검
- **청정도 관리**: 파티클 카운터 측정 기록

---
**분석 완료일**: 2025-09-05  
**기반 자료**: 일동제약 차압관리일지 (양식번호: 3-6-02, Version 3-01)  
**체크리스트 유형**: 일반기록형 (수치 기반 자동 판정)  
**다음 단계**: 3가지 체크리스트 통합 시스템 설계
