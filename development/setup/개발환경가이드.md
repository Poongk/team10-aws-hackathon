# GMP CheckMaster AI - 개발 환경 가이드

## 개요
- **프로젝트**: GMP CheckMaster AI
- **아키텍처**: AWS 서버리스 (Lambda + DynamoDB + React)
- **개발 기간**: 해커톤 30.5시간 (2025-09-05 17:00 ~ 2025-09-06 17:00)
- **작성일**: 2025-09-05

## 빠른 시작 (Quick Start)

### 1. 필수 도구 설치
```bash
# Node.js 18.x LTS 설치
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# AWS CLI 설치
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
unzip awscliv2.zip
sudo ./aws/install

# Terraform 설치
wget -O- https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg
echo "deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/hashicorp.list
sudo apt update && sudo apt install terraform
```

### 2. 프로젝트 클론 및 설정
```bash
# 프로젝트 클론
git clone https://github.com/Poongk/team10-aws-hackathon.git
cd team10-aws-hackathon

# 개발 환경 설정
cd development
npm install
```

### 3. AWS 계정 설정 (해커톤용)
```bash
# AWS 자격 증명 설정
aws configure
# AWS Access Key ID: (해커톤 제공 키)
# AWS Secret Access Key: (해커톤 제공 시크릿)
# Default region name: ap-northeast-2
# Default output format: json
```

## 개발 환경 구성

### 시스템 요구사항
- **OS**: Ubuntu 20.04+ / macOS 12+ / Windows 10+
- **Node.js**: 18.x LTS
- **RAM**: 8GB 이상 권장
- **Storage**: 10GB 이상 여유 공간

### 개발 도구
- **IDE**: VS Code (Amazon Q Developer 확장 설치)
- **Git**: 최신 버전
- **Browser**: Chrome/Firefox (개발자 도구 사용)

## 프로젝트 구조

```
development/
├── backend/                    # 서버리스 백엔드
│   ├── lambda/                # AWS Lambda 함수들
│   │   ├── auth-handler/      # 인증 처리
│   │   ├── checklist-handler/ # 체크리스트 CRUD
│   │   ├── ai-judgment-handler/ # AI 판정
│   │   ├── qr-handler/        # QR 코드 생성/검증
│   │   └── dashboard-handler/ # 대시보드 데이터
│   ├── shared/                # 공통 라이브러리
│   └── package.json
├── frontend/                   # React 프론트엔드
│   ├── src/
│   │   ├── components/        # 재사용 컴포넌트
│   │   ├── pages/            # 페이지 컴포넌트
│   │   ├── hooks/            # 커스텀 훅
│   │   ├── services/         # API 서비스
│   │   └── utils/            # 유틸리티
│   ├── public/
│   └── package.json
├── infrastructure/             # AWS 인프라
│   ├── terraform/            # Terraform 코드
│   │   ├── main.tf           # 메인 설정
│   │   ├── dynamodb.tf       # DynamoDB 테이블
│   │   ├── lambda.tf         # Lambda 함수
│   │   └── api-gateway.tf    # API Gateway
│   └── scripts/              # 배포 스크립트
└── setup/                     # 개발 환경 가이드
```

## 백엔드 개발 환경

### Lambda 함수 개발
```bash
cd development/backend

# 의존성 설치
npm install

# 로컬 개발 서버 시작 (SAM Local 사용)
sam local start-api --port 3001

# 개별 함수 테스트
sam local invoke AuthHandler --event events/login.json
```

### 주요 의존성
```json
{
  "dependencies": {
    "aws-sdk": "^2.1490.0",
    "jsonwebtoken": "^9.0.2",
    "uuid": "^9.0.1",
    "joi": "^17.11.0"
  },
  "devDependencies": {
    "@aws-cdk/aws-lambda": "^2.100.0",
    "jest": "^29.7.0",
    "serverless": "^3.38.0"
  }
}
```

### 환경 변수 설정
```bash
# .env 파일 생성
cat > development/backend/.env << EOF
AWS_REGION=ap-northeast-2
DYNAMODB_TABLE_PREFIX=gmp-checkmaster-dev
JWT_SECRET=hackathon-secret-key-2025
AMAZON_Q_ENDPOINT=https://q-developer.amazonaws.com
EOF
```

## 프론트엔드 개발 환경

### React 앱 개발
```bash
cd development/frontend

# 의존성 설치
npm install

# 개발 서버 시작
npm start
# http://localhost:3000 에서 접근
```

### 주요 의존성
```json
{
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.17.0",
    "axios": "^1.6.0",
    "styled-components": "^6.1.0",
    "react-query": "^3.39.3",
    "qrcode": "^1.5.3",
    "qr-scanner": "^1.4.2"
  },
  "devDependencies": {
    "@types/react": "^18.2.37",
    "typescript": "^5.2.2",
    "vite": "^4.5.0"
  }
}
```

### 환경 변수 설정
```bash
# .env 파일 생성
cat > development/frontend/.env << EOF
REACT_APP_API_BASE_URL=http://localhost:3001
REACT_APP_AWS_REGION=ap-northeast-2
REACT_APP_ENVIRONMENT=development
EOF
```

## 인프라 개발 환경

### Terraform 설정
```bash
cd development/infrastructure/terraform

# Terraform 초기화
terraform init

# 개발 환경 배포 계획 확인
terraform plan -var-file="dev.tfvars"

# 개발 환경 배포
terraform apply -var-file="dev.tfvars"
```

### dev.tfvars 설정
```hcl
# development/infrastructure/terraform/dev.tfvars
environment = "dev"
project_name = "gmp-checkmaster"
aws_region = "ap-northeast-2"

# DynamoDB 설정
dynamodb_billing_mode = "PAY_PER_REQUEST"
enable_point_in_time_recovery = false

# Lambda 설정
lambda_runtime = "nodejs18.x"
lambda_memory_size = 256
lambda_timeout = 30
```

## 해커톤용 간소화 설정

### 1. 인증 시스템 (간소화)
```javascript
// 하드코딩된 사용자 목록
const DEMO_USERS = [
  { id: 'worker1', name: '김작업', role: 'worker', team: '생산팀A' },
  { id: 'operator1', name: '박운영', role: 'operator', team: '운영팀' },
  { id: 'supervisor1', name: '이책임', role: 'supervisor', team: '생산팀A' },
  { id: 'admin1', name: '최관리', role: 'admin', team: 'IT팀' },
  { id: 'security1', name: '정보안', role: 'security', team: '보안팀' }
];
```

### 2. 데이터베이스 초기 데이터
```bash
# 초기 데이터 삽입 스크립트 실행
cd development/infrastructure/scripts
node seed-data.js
```

### 3. 빠른 배포 스크립트
```bash
#!/bin/bash
# development/scripts/quick-deploy.sh

echo "🚀 해커톤 빠른 배포 시작..."

# 백엔드 빌드 및 배포
cd backend
npm run build
sam deploy --guided

# 프론트엔드 빌드 및 배포
cd ../frontend
npm run build
aws s3 sync build/ s3://gmp-checkmaster-frontend-dev

echo "✅ 배포 완료!"
```

## 개발 워크플로우

### 1. 기능 개발 순서
```
1. DynamoDB 테이블 생성 (Terraform)
2. Lambda 함수 개발 (백엔드)
3. API Gateway 연결
4. React 컴포넌트 개발 (프론트엔드)
5. 통합 테스트
6. 배포
```

### 2. Git 브랜치 전략
```bash
# 기능별 브랜치 생성
git checkout -b feature/auth-system
git checkout -b feature/checklist-ui
git checkout -b feature/ai-judgment
git checkout -b feature/qr-system

# 개발 완료 후 main 브랜치로 병합
git checkout main
git merge feature/auth-system
```

### 3. 테스트 전략
```bash
# 백엔드 단위 테스트
cd backend
npm test

# 프론트엔드 테스트
cd frontend
npm test

# 통합 테스트
npm run test:integration
```

## 디버깅 및 모니터링

### 로컬 디버깅
```bash
# Lambda 함수 로컬 디버깅
sam local start-api --debug-port 5858

# React 앱 디버깅
npm start -- --inspect
```

### AWS 로그 확인
```bash
# CloudWatch 로그 확인
aws logs describe-log-groups --log-group-name-prefix "/aws/lambda/gmp-checkmaster"

# 실시간 로그 스트리밍
aws logs tail /aws/lambda/gmp-checkmaster-auth-handler --follow
```

## 성능 최적화

### 백엔드 최적화
- Lambda 콜드 스타트 최소화
- DynamoDB 쿼리 최적화
- API Gateway 캐싱 활용

### 프론트엔드 최적화
- 코드 스플리팅 적용
- 이미지 최적화
- PWA 기능 추가 (오프라인 지원)

## 보안 설정

### AWS IAM 역할
```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan"
      ],
      "Resource": "arn:aws:dynamodb:ap-northeast-2:*:table/gmp-checkmaster-*"
    }
  ]
}
```

### API 보안
- CORS 설정
- JWT 토큰 검증
- 요청 제한 (Rate Limiting)

## 배포 가이드

### 개발 환경 배포
```bash
# 전체 스택 배포
./scripts/deploy-dev.sh

# 개별 서비스 배포
./scripts/deploy-backend.sh
./scripts/deploy-frontend.sh
```

### 프로덕션 배포 (해커톤 이후)
```bash
# 프로덕션 환경 배포
terraform apply -var-file="prod.tfvars"
./scripts/deploy-prod.sh
```

## 문제 해결

### 자주 발생하는 문제

#### 1. AWS 자격 증명 오류
```bash
# 자격 증명 확인
aws sts get-caller-identity

# 자격 증명 재설정
aws configure
```

#### 2. Lambda 함수 배포 실패
```bash
# 함수 로그 확인
aws logs tail /aws/lambda/function-name --follow

# 함수 재배포
sam deploy --force-upload
```

#### 3. DynamoDB 연결 오류
```bash
# 테이블 존재 확인
aws dynamodb list-tables

# 테이블 생성
terraform apply -target=aws_dynamodb_table.users
```

## 해커톤 팁

### 시간 절약 방법
1. **템플릿 활용**: AWS SAM 템플릿 사용
2. **Mock 데이터**: 실제 API 대신 Mock 데이터로 프론트엔드 개발
3. **병렬 개발**: 백엔드/프론트엔드 동시 개발
4. **자동화**: 배포 스크립트 활용

### 데모 준비
1. **시나리오 작성**: 5분 데모 시나리오 준비
2. **데이터 준비**: 데모용 샘플 데이터 미리 입력
3. **백업 계획**: 로컬 환경 백업 준비

## 참고 자료

### 공식 문서
- [AWS Lambda 개발자 가이드](https://docs.aws.amazon.com/lambda/)
- [React 공식 문서](https://react.dev/)
- [Terraform AWS Provider](https://registry.terraform.io/providers/hashicorp/aws/)

### 프로젝트 관련 문서
- `planning/design/architecture/시스템아키텍처.md`
- `planning/design/architecture/API명세서.md`
- `planning/design/architecture/데이터베이스스키마.md`

---
**작성자**: 백승재  
**검토자**: 풍기덕  
**버전**: v1.0  
**업데이트**: 2025-09-05 18:29  
**다음 단계**: MVP 개발 시작
