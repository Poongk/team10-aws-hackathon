<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GMP CheckMaster AI - API ë¬¸ì„œ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f8f9fa;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }
        .api-section {
            background: white;
            margin: 20px 0;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .api-endpoint {
            background: #f8f9fa;
            padding: 15px;
            border-left: 4px solid #007bff;
            margin: 15px 0;
            border-radius: 4px;
        }
        .method {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 12px;
            margin-right: 10px;
        }
        .method.get { background: #28a745; color: white; }
        .method.post { background: #007bff; color: white; }
        .method.put { background: #ffc107; color: black; }
        .method.delete { background: #dc3545; color: white; }
        .code {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 14px;
        }
        .status-badge {
            background: #28a745;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .nav {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .nav a {
            color: #007bff;
            text-decoration: none;
            margin-right: 20px;
            font-weight: 500;
        }
        .nav a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ­ GMP CheckMaster AI</h1>
        <p>ì œì•½ì—…ê³„ ìœ„ìƒìƒíƒœ ì ê²€ ì‹œìŠ¤í…œ API ë¬¸ì„œ</p>
        <div style="margin-top: 20px;">
            <span class="status-badge">26ê°œ API</span>
            <span class="status-badge">100% í…ŒìŠ¤íŠ¸ ì™„ë£Œ</span>
            <span class="status-badge">í´ë¼ìš°ë“œ ë°°í¬</span>
        </div>
    </div>

    <div class="nav">
        <a href="#overview">ê°œìš”</a>
        <a href="#auth">ì¸ì¦</a>
        <a href="#checklist">ì²´í¬ë¦¬ìŠ¤íŠ¸</a>
        <a href="#ai">AI íŒì •</a>
        <a href="#qr">QR ì½”ë“œ</a>
        <a href="#dashboard">ëŒ€ì‹œë³´ë“œ</a>
        <a href="#assignment">ë°°ì • ê´€ë¦¬</a>
        <a href="#notification">ì•Œë¦¼</a>
        <a href="#admin">ê´€ë¦¬ì</a>
        <a href="#action">ì¡°ì¹˜ ê´€ë¦¬</a>
    </div>

    <div id="overview" class="api-section">
        <h2>ğŸ“‹ API ê°œìš”</h2>
        <p><strong>Base URL:</strong> <code>https://ncrceaq64l.execute-api.us-east-1.amazonaws.com/dev</code></p>
        <p><strong>ì´ API ìˆ˜:</strong> 26ê°œ</p>
        <p><strong>í•¸ë“¤ëŸ¬ ìˆ˜:</strong> 9ê°œ</p>
        <p><strong>í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€:</strong> 100%</p>
        
        <h3>ğŸ¯ ë¹ ë¥¸ í…ŒìŠ¤íŠ¸</h3>
        <div class="api-endpoint">
            <span class="method post">POST</span>
            <code>/auth/login</code>
            <button class="test-button" onclick="testLogin()">í…ŒìŠ¤íŠ¸</button>
        </div>
        <div class="code" id="login-result">ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</div>
    </div>

    <div id="auth" class="api-section">
        <h2>ğŸ” 1. ì¸ì¦ API (3ê°œ)</h2>
        
        <div class="api-endpoint">
            <span class="method post">POST</span>
            <code>/auth/login</code>
            <p>ì‚¬ìš©ì ë¡œê·¸ì¸ ë° JWT í† í° ë°œê¸‰</p>
            <div class="code">
{
  "user_id": "worker1",
  "password": "demo123"
}
            </div>
        </div>

        <div class="api-endpoint">
            <span class="method post">POST</span>
            <code>/auth/logout</code>
            <p>ì‚¬ìš©ì ë¡œê·¸ì•„ì›ƒ</p>
        </div>

        <div class="api-endpoint">
            <span class="method get">GET</span>
            <code>/auth/verify</code>
            <p>JWT í† í° ê²€ì¦</p>
        </div>
    </div>

    <div id="checklist" class="api-section">
        <h2>ğŸ“‹ 2. ì²´í¬ë¦¬ìŠ¤íŠ¸ API (6ê°œ)</h2>
        
        <div class="api-endpoint">
            <span class="method get">GET</span>
            <code>/checklists/templates</code>
            <p>ìœ„ìƒìƒíƒœ ì ê²€í‘œ í…œí”Œë¦¿ ì¡°íšŒ (9ê°œ í•­ëª©)</p>
            <button class="test-button" onclick="testTemplates()">í…ŒìŠ¤íŠ¸</button>
        </div>

        <div class="api-endpoint">
            <span class="method post">POST</span>
            <code>/checklists/submit</code>
            <p>ì²´í¬ë¦¬ìŠ¤íŠ¸ ì œì¶œ</p>
        </div>

        <div class="api-endpoint">
            <span class="method get">GET</span>
            <code>/checklists/records</code>
            <p>ì²´í¬ë¦¬ìŠ¤íŠ¸ ê¸°ë¡ ì¡°íšŒ</p>
        </div>

        <div class="api-endpoint">
            <span class="method put">PUT</span>
            <code>/checklists/records/{id}</code>
            <p>ì²´í¬ë¦¬ìŠ¤íŠ¸ ìˆ˜ì • (5ë¶„ ë‚´)</p>
        </div>

        <div class="api-endpoint">
            <span class="method post">POST</span>
            <code>/checklists/modification-request</code>
            <p>ìˆ˜ì • ìš”ì²­ (5ë¶„ í›„)</p>
        </div>

        <div class="api-endpoint">
            <span class="method post">POST</span>
            <code>/checklists/emergency-review</code>
            <p>ê¸´ê¸‰ ì¬ê²€í†  ìš”ì²­</p>
        </div>
    </div>

    <div id="ai" class="api-section">
        <h2>ğŸ¤– 3. AI íŒì • API (2ê°œ)</h2>
        
        <div class="api-endpoint">
            <span class="method post">POST</span>
            <code>/ai/judge</code>
            <p>ê±´ê°•ìƒíƒœ AI íŒì • (4ë‹¨ê³„: ìŠ¹ì¸/ê±°ë¶€/ì¬í™•ì¸/ëŒ€ê¸°)</p>
            <button class="test-button" onclick="testAI()">í…ŒìŠ¤íŠ¸</button>
        </div>

        <div class="api-endpoint">
            <span class="method get">GET</span>
            <code>/ai/judgment/{id}</code>
            <p>AI íŒì • ê²°ê³¼ ìƒì„¸ ì¡°íšŒ</p>
        </div>
    </div>

    <div id="qr" class="api-section">
        <h2>ğŸ“± 4. QR ì½”ë“œ API (2ê°œ)</h2>
        
        <div class="api-endpoint">
            <span class="method post">POST</span>
            <code>/qr/generate</code>
            <p>QR ì½”ë“œ ìƒì„± (8ì‹œê°„ ìœ íš¨)</p>
        </div>

        <div class="api-endpoint">
            <span class="method post">POST</span>
            <code>/qr/verify</code>
            <p>QR ì½”ë“œ ê²€ì¦ ë° ì¶œì… í—ˆê°€</p>
        </div>
    </div>

    <div id="dashboard" class="api-section">
        <h2>ğŸ“Š 5. ëŒ€ì‹œë³´ë“œ API (4ê°œ)</h2>
        
        <div class="api-endpoint">
            <span class="method get">GET</span>
            <code>/dashboard/stats</code>
            <p>í†µê³„ ì¡°íšŒ (ì™„ë£Œìœ¨, ë¶€ì í•©ë¥  ë“±)</p>
        </div>

        <div class="api-endpoint">
            <span class="method get">GET</span>
            <code>/dashboard/reports</code>
            <p>ë¦¬í¬íŠ¸ ì¡°íšŒ</p>
        </div>

        <div class="api-endpoint">
            <span class="method get">GET</span>
            <code>/dashboard/status</code>
            <p>ì‹¤ì‹œê°„ í˜„í™© ì¡°íšŒ (ìš´ì˜ììš©)</p>
        </div>

        <div class="api-endpoint">
            <span class="method get">GET</span>
            <code>/dashboard/team/{id}</code>
            <p>íŒ€ í˜„í™© ì¡°íšŒ (ì±…ì„ììš©)</p>
        </div>
    </div>

    <div id="assignment" class="api-section">
        <h2>ğŸ“ 6. ë°°ì • ê´€ë¦¬ API (2ê°œ)</h2>
        
        <div class="api-endpoint">
            <span class="method get">GET</span>
            <code>/assignment/list</code>
            <p>ì‚¬ìš©ìë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë°°ì • ëª©ë¡</p>
        </div>

        <div class="api-endpoint">
            <span class="method post">POST</span>
            <code>/assignment/create</code>
            <p>ìƒˆë¡œìš´ ë°°ì • ìƒì„±</p>
        </div>
    </div>

    <div id="notification" class="api-section">
        <h2>ğŸ”” 7. ì•Œë¦¼ API (1ê°œ)</h2>
        
        <div class="api-endpoint">
            <span class="method post">POST</span>
            <code>/notification/send</code>
            <p>ì•Œë¦¼ ë°œì†¡ (ë§ˆê° ì•Œë¦¼, ìƒíƒœ ë³€ê²½ ë“±)</p>
        </div>
    </div>

    <div id="admin" class="api-section">
        <h2>âš™ï¸ 8. ê´€ë¦¬ì API (3ê°œ)</h2>
        
        <div class="api-endpoint">
            <span class="method post">POST</span>
            <code>/admin/templates</code>
            <p>ì²´í¬ë¦¬ìŠ¤íŠ¸ í…œí”Œë¦¿ ìƒì„±</p>
        </div>

        <div class="api-endpoint">
            <span class="method put">PUT</span>
            <code>/admin/qr-validity/template/{id}</code>
            <p>QR ìœ íš¨ì‹œê°„ ì„¤ì •</p>
        </div>

        <div class="api-endpoint">
            <span class="method put">PUT</span>
            <code>/operator/qr-validity/daily</code>
            <p>QR ìœ íš¨ì‹œê°„ ë‹¹ì¼ ì¡°ì •</p>
        </div>
    </div>

    <div id="action" class="api-section">
        <h2>ğŸš¨ 9. ì¡°ì¹˜ ê´€ë¦¬ API (4ê°œ)</h2>
        
        <div class="api-endpoint">
            <span class="method get">GET</span>
            <code>/actions/list</code>
            <p>ë¶€ì í•©ì ì¡°ì¹˜ ëª©ë¡ ì¡°íšŒ</p>
        </div>

        <div class="api-endpoint">
            <span class="method put">PUT</span>
            <code>/actions/{record_id}/status</code>
            <p>ì¡°ì¹˜ ìƒíƒœ ì—…ë°ì´íŠ¸</p>
        </div>

        <div class="api-endpoint">
            <span class="method post">POST</span>
            <code>/actions/{record_id}/complete</code>
            <p>ì¡°ì¹˜ ì™„ë£Œ ì²˜ë¦¬</p>
        </div>

        <div class="api-endpoint">
            <span class="method get">GET</span>
            <code>/actions/status/{record_id}</code>
            <p>ì¡°ì¹˜ ì§„í–‰ ìƒí™© ì¡°íšŒ</p>
        </div>
    </div>

    <div class="api-section">
        <h2>ğŸ§ª Demo ì‚¬ìš©ì</h2>
        <div class="code">
worker1 - ê¹€ì‘ì—… (ìƒì‚°íŒ€A)
operator1 - ë°•ìš´ì˜ (ìš´ì˜íŒ€)  
supervisor1 - ì´ì±…ì„ (ìƒì‚°íŒ€A)
admin1 - ìµœê´€ë¦¬ (ITíŒ€)
security1 - ì •ë³´ì•ˆ (ë³´ì•ˆíŒ€)
        </div>
    </div>

    <script>
        const API_BASE = 'https://ncrceaq64l.execute-api.us-east-1.amazonaws.com/dev';
        
        async function testLogin() {
            const result = document.getElementById('login-result');
            result.textContent = 'í…ŒìŠ¤íŠ¸ ì¤‘...';
            
            try {
                const response = await fetch(`${API_BASE}/auth/login`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ user_id: 'worker1', password: 'demo123' })
                });
                
                const data = await response.json();
                result.textContent = JSON.stringify(data, null, 2);
            } catch (error) {
                result.textContent = `ì˜¤ë¥˜: ${error.message}`;
            }
        }
        
        async function testTemplates() {
            try {
                const response = await fetch(`${API_BASE}/checklists/templates`);
                const data = await response.json();
                alert('í…œí”Œë¦¿ ì¡°íšŒ ì„±ê³µ! ì½˜ì†”ì„ í™•ì¸í•˜ì„¸ìš”.');
                console.log('Templates:', data);
            } catch (error) {
                alert(`ì˜¤ë¥˜: ${error.message}`);
            }
        }
        
        async function testAI() {
            try {
                const response = await fetch(`${API_BASE}/ai/judge`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        responses: {
                            symptoms: 'ì—†ìŒ',
                            respiratory: 'ì—†ìŒ',
                            wound: 'ì—†ìŒ',
                            clothing: 'ì ì ˆ'
                        }
                    })
                });
                
                const data = await response.json();
                alert('AI íŒì • ì„±ê³µ! ì½˜ì†”ì„ í™•ì¸í•˜ì„¸ìš”.');
                console.log('AI Judgment:', data);
            } catch (error) {
                alert(`ì˜¤ë¥˜: ${error.message}`);
            }
        }
    </script>
</body>
</html>
